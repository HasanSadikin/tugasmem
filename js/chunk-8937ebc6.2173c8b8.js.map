{"version":3,"sources":["webpack:///./node_modules/sanity-blocks-vue-component/lib/blocksToVue.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/serializers.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/internals.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/getImageUrl.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/blocksToNodes.js","webpack:///./node_modules/@sanity/image-url/lib/browser/image-url.umd.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/mergeSerializers.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/internals.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/buildMarksTree.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/node_modules/@sanity/generate-help-url/index.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/nestLists.js","webpack:///./node_modules/@sanity/block-content-to-hyperscript/lib/generateKeys.js","webpack:///./node_modules/sanity-blocks-vue-component/lib/BlockContent.js","webpack:///./node_modules/sanity-blocks-vue-component/lib/serializers.js"],"names":["objectAssign","_require","blocksToNodes","getSerializers","isVueComponent","block","Object","hasOwnProperty","call","render","blocksToVue","createElement","options","renderNode","serializer","properties","children","data","tag","childNodes","Array","isArray","vueProps","sanityProps","mark","node","_sanityProps","props","_getSerializers","defaultSerializers","serializeSpan","module","exports","getImageUrl","h","serializerOpts","serializeOptions","useDashedStyles","BlockSerializer","serializers","isInline","blockType","_type","types","Error","concat","SpanSerializer","_props$node","isPlain","markType","marks","console","warn","markFallback","ListSerializer","type","ListItemSerializer","style","BlockTypeSerializer","test","RawMarkSerializer","UnderlineSerializer","textDecoration","StrikeThroughSerializer","LinkSerializer","href","ImageSerializer","asset","img","src","span","index","hardBreak","key","text","map","child","i","serializeNode","serializedNode","_key","HardBreakSerializer","defaultMarkSerializers","strong","bind","em","code","underline","link","image","list","listItem","container","undefined","empty","generateHelpUrl","urlBuilder","enc","encodeURIComponent","materializeError","getQueryString","query","imageOptions","keys","length","params","join","buildUrl","projectId","dataset","url","ref","_ref","toString","buildMarksTree","nestLists","generateKeys","mergeSerializers","optionProps","isDefined","val","defaults","rawBlocks","blocks","keyedBlocks","listNestMode","reduce","opts","value","siblings","isList","serializeList","isListItem","serializeListItem","findListItemIndex","isSpan","serializeBlock","tree","blockProps","level","renderContainerOnSingleChild","Boolean","nodes","containerProps","className","global","factory","this","_extends","assign","target","arguments","source","prototype","apply","_unsupportedIterableToArray","o","minLen","_arrayLikeToArray","n","slice","constructor","name","from","arr","len","arr2","_createForOfIteratorHelperLoose","Symbol","iterator","done","TypeError","next","example","parseAssetId","_ref$split","split","id","dimensionString","format","_dimensionString$spli","imgWidthStr","imgHeightStr","width","height","isValidAssetId","isFinite","isRef","isAsset","_id","isAssetStub","parseSource","isUrl","urlToId","crop","hotspot","applyDefaults","parts","replace","result","left","top","bottom","right","x","y","SPEC_NAME_TO_URL_NAME_MAPPINGS","urlForImage","spec","cropLeft","Math","round","cropTop","hotSpotVerticalRadius","hotSpotHorizontalRadius","hotSpotCenterX","hotSpotCenterY","rect","focalPoint","ignoreImageParams","fit","specToImageUrl","cdnUrl","baseUrl","filename","_spec$rect","isEffectiveCrop","push","bg","flip","flipHorizontal","flipVertical","filter","forEach","mapping","specName","param","cropRect","imgWidth","imgHeight","desiredAspectRatio","cropAspectRatio","hotspotXCenter","_width","_height","_left","hotspotYCenter","_top","max","floor","validFits","validCrops","validAutoModes","isSanityClient","client","clientConfig","rewriteSpecName","_step","specs","_iterator","entry","_client$clientConfig","apiUrl","apiHost","ImageUrlBuilder","parent","_proto","withOptions","newOptions","specKey","_dataset","_projectId","_bg","dpr","_dpr","maxWidth","_maxWidth","minWidth","_minWidth","maxHeight","_maxHeight","minHeight","_minHeight","size","blur","_blur","sharpen","_sharpen","_format","invert","_invert","orientation","_orientation","quality","_quality","forceDownload","download","indexOf","saturation","_saturation","auto","_typeof","obj","userSerializers","acc","_blocksToNodes","defaultMarks","markDefs","sortedMarks","sortMarksByOccurences","rootNode","nodeStack","marksNeeded","pos","markKey","splice","currentNode","findLastParentNode","find","def","isTextSpan","lines","line","lastNode","spans","markOccurences","occurences","siblingIndex","sibling","sortByOccurence","sortMarks","sort","markA","markB","aOccurences","bOccurences","aDefaultPos","bDefaultPos","slug","currentList","mode","isListBlock","blockMatchesList","newList","listFromBlock","lastListItem","lastChild","newLastChild","match","findListMatching","_match","matching","filterOnType","getStaticKey","item","checksum","JSON","stringify","str","hash","strlen","charCodeAt","component","functional","required","default","String","context","attrs","ContainerSerializer","containerClass","class"],"mappings":"mHAEA,IAAIA,EAAe,EAAQ,QAEvBC,EAAW,EAAQ,QACnBC,EAAgBD,EAASC,cAEzBC,EAAiB,EAAQ,QAEzBC,EAAiB,SAAwBC,GAC3C,OAAOC,OAAOC,eAAeC,KAAKH,EAAO,aAAeC,OAAOC,eAAeC,KAAKH,EAAO,WAAqC,oBAAjBA,EAAMI,QAGtH,SAASC,EAAYC,EAAeC,GAClC,IAAIC,EAAa,SAAoBC,EAAYC,EAAYC,GAC3D,IAAIC,EAAOF,GAAc,GACzB,GAA0B,oBAAfD,EACT,OAAOA,EAAWd,EAAa,GAAIiB,EAAM,CACvCD,SAAUA,KAId,IAAIE,EAAMJ,EACNK,EAAaF,EAAKD,UAAYA,EAElC,GADAG,EAAaC,MAAMC,QAAQF,GAAcA,EAAa,CAACA,GACnDf,EAAeU,GAAa,CAC9B,IAAIQ,EAAW,GACXC,EAAc,GACdN,EAAKO,KAEPF,EAAWL,EAAKO,MAGhBF,EAAWL,EAAKQ,KAChBF,EAAYG,aAAe,CACzBD,KAAMR,EAAKQ,KACXb,QAASK,EAAKL,UAGlB,IAAIe,EAAQ3B,EAAa,GAAIsB,EAAUC,GACvCN,EAAO,CAAEU,MAAOA,GAGlB,OAAOhB,EAAcO,EAAKD,EAAME,IAG9BS,EAAkBzB,EAAeU,GACjCgB,EAAqBD,EAAgBC,mBACrCC,EAAgBF,EAAgBE,cAEpC,OAAO5B,EAAcW,EAAYD,EAASiB,EAAoBC,GAGhEC,EAAOC,QAAUtB,G,oCCnDjB,IAAIV,EAAe,EAAQ,QAEvBiC,EAAc,EAAQ,QAE1BF,EAAOC,QAAU,SAAUE,EAAGC,GAC5B,IAAIC,EAAmBD,GAAkB,CACvCE,iBAAiB,GAInB,SAASC,EAAgBX,GACvB,IAAIF,EAAOE,EAAMF,KACbc,EAAcZ,EAAMY,YACpB3B,EAAUe,EAAMf,QAChB4B,EAAWb,EAAMa,SACjBxB,EAAWW,EAAMX,SACjByB,EAAYhB,EAAKiB,MACjB5B,EAAayB,EAAYI,MAAMF,GAEnC,IAAK3B,EACH,MAAM,IAAI8B,MAAM,uBAAwBC,OAAOJ,EAAW,0EAG5D,OAAOP,EAAEpB,EAAY,CACnBW,KAAMA,EACNb,QAASA,EACT4B,SAAUA,GACTxB,GAIL,SAAS8B,EAAenB,GACtB,IAAIoB,EAAcpB,EAAMF,KACpBD,EAAOuB,EAAYvB,KACnBR,EAAW+B,EAAY/B,SACvBgC,EAA0B,kBAATxB,EACjByB,EAAWD,EAAUxB,EAAOA,EAAKkB,MACjC5B,EAAaa,EAAMY,YAAYW,MAAMD,GAEzC,OAAKnC,EAOEoB,EAAEpB,EAAYa,EAAMF,KAAMT,IAJ/BmC,QAAQC,KAAK,sBAAuBP,OAAOI,EAAU,0EAC9Cf,EAAEP,EAAMY,YAAYc,aAAc,KAAMrC,IAOnD,SAASsC,EAAe3B,GACtB,IAAIT,EAAqB,WAAfS,EAAM4B,KAAoB,KAAO,KAC3C,OAAOrB,EAAEhB,EAAK,KAAMS,EAAMX,UAI5B,SAASwC,EAAmB7B,GAC1B,IAAIX,EAAYW,EAAMF,KAAKgC,OAA8B,WAArB9B,EAAMF,KAAKgC,MAE/CvB,EAAEP,EAAMY,YAAYI,MAAMtC,MAAOsB,EAAOA,EAAMX,UAD9CW,EAAMX,SAEN,OAAOkB,EAAE,KAAM,KAAMlB,GAIvB,SAAS0C,EAAoB/B,GAC3B,IAAI8B,EAAQ9B,EAAMF,KAAKgC,OAAS,SAEhC,MAAI,OAAOE,KAAKF,GACPvB,EAAEuB,EAAO,KAAM9B,EAAMX,UAGEkB,EAAf,eAAVuB,EAA2B,aAAwC,IAA1B,KAAM9B,EAAMX,UAK9D,SAAS4C,EAAkB1C,EAAKS,GAC9B,OAAOO,EAAEhB,EAAK,KAAMS,EAAMX,UAG5B,SAAS6C,EAAoBlC,GAC3B,IAAI8B,EAAQrB,EAAiBC,gBAAkB,CAC7C,kBAAmB,aACjB,CACFyB,eAAgB,aAElB,OAAO5B,EAAE,OAAQ,CACfuB,MAAOA,GACN9B,EAAMX,UAGX,SAAS+C,EAAwBpC,GAC/B,OAAOO,EAAE,MAAO,KAAMP,EAAMX,UAG9B,SAASgD,EAAerC,GACtB,OAAOO,EAAE,IAAK,CACZ+B,KAAMtC,EAAMH,KAAKyC,MAChBtC,EAAMX,UAGX,SAASkD,EAAgBvC,GACvB,IAAKA,EAAMF,KAAK0C,MACd,OAAO,KAGT,IAAIC,EAAMlC,EAAE,MAAO,CACjBmC,IAAKpC,EAAYN,KAEnB,OAAOA,EAAMa,SAAW4B,EAAMlC,EAAE,SAAU,KAAMkC,GAIlD,SAAStC,EAAcwC,EAAM/B,EAAagC,EAAO3D,GAC/C,GAAa,OAAT0D,GAAiB/B,EAAYiC,UAC/B,OAAOtC,EAAEK,EAAYiC,UAAW,CAC9BC,IAAK,MAAM5B,OAAO0B,KAItB,GAAoB,kBAATD,EACT,OAAO/B,EAAYmC,KAAOxC,EAAEK,EAAYmC,KAAM,CAC5CD,IAAK,QAAQ5B,OAAO0B,IACnBD,GAAQA,EAGb,IAAItD,EAEAsD,EAAKtD,WACPA,EAAW,CACTA,SAAUsD,EAAKtD,SAAS2D,KAAI,SAAUC,EAAOC,GAC3C,OAAOjE,EAAQkE,cAAcF,EAAOC,EAAGP,EAAKtD,UAAU,QAK5D,IAAI+D,EAAiB/E,EAAa,GAAIsE,EAAMtD,GAC5C,OAAOkB,EAAEK,EAAY+B,KAAM,CACzBG,IAAKH,EAAKU,MAAQ,QAAQnC,OAAO0B,GACjC9C,KAAMsD,EACNxC,YAAaA,IAIjB,IAAI0C,EAAsB,WACxB,OAAO/C,EAAE,OAGPgD,EAAyB,CAC3BC,OAAQvB,EAAkBwB,KAAK,KAAM,UACrCC,GAAIzB,EAAkBwB,KAAK,KAAM,MACjCE,KAAM1B,EAAkBwB,KAAK,KAAM,QACnCG,UAAW1B,EACX,iBAAkBE,EAClByB,KAAMxB,GAEJnC,EAAqB,CAEvBc,MAAO,CACLtC,MAAOqD,EACP+B,MAAOvB,GAEThB,MAAOgC,EAEPQ,KAAMpC,EACNqC,SAAUnC,EACVnD,MAAOiC,EACPgC,KAAMxB,EACN0B,UAAWS,EAEXW,UAAW,MAEXvC,aAAc,OAEdqB,UAAMmB,EAENC,MAAO,IAET,MAAO,CACLjE,mBAAoBA,EACpBC,cAAeA,K,uBCtLnBC,EAAOC,QAAU,EAAQ,S,oCCEzB,IAAI+D,EAAkB,EAAQ,QAE1BC,EAAa,EAAQ,QAErBhG,EAAe,EAAQ,QAEvBiG,EAAMC,mBACNC,EAAmB,+JAA+JtD,OAAOkD,EAAgB,sCAEzMK,EAAiB,SAAwBxF,GAC3C,IAAIyF,EAAQzF,EAAQ0F,aAChBC,EAAOjG,OAAOiG,KAAKF,GAEvB,IAAKE,EAAKC,OACR,MAAO,GAGT,IAAIC,EAASF,EAAK5B,KAAI,SAAUF,GAC9B,MAAO,GAAG5B,OAAOoD,EAAIxB,GAAM,KAAK5B,OAAOoD,EAAII,EAAM5B,QAEnD,MAAO,IAAI5B,OAAO4D,EAAOC,KAAK,OAG5BC,EAAW,SAAkBhF,GAC/B,IAAIF,EAAOE,EAAMF,KACbb,EAAUe,EAAMf,QAChBgG,EAAYhG,EAAQgG,UACpBC,EAAUjG,EAAQiG,QAClB1C,EAAQ1C,EAAK0C,MAEjB,IAAKA,EACH,MAAM,IAAIvB,MAAM,iDAGlB,GAAIuB,EAAM2C,IACR,OAAO3C,EAAM2C,IAAMV,EAAexF,GAGpC,IAAKgG,IAAcC,EACjB,MAAM,IAAIjE,MAAMuD,GAGlB,IAAIY,EAAM5C,EAAM6C,KAEhB,IAAKD,EACH,MAAM,IAAInE,MAAM,gEAGlB,OAAOoD,EAAWhG,EAAa,CAC7B4G,UAAWA,EACXC,QAASA,GACRjG,EAAQ0F,cAAgB,KAAKb,MAAMhE,GAAMwF,YAG9ClF,EAAOC,QAAU2E,G,kCCtDjB,IAAI3G,EAAe,EAAQ,QAEvBkH,EAAiB,EAAQ,QAEzBC,EAAY,EAAQ,QAEpBC,EAAe,EAAQ,QAEvBC,EAAmB,EAAQ,QAG3BC,EAAc,CAAC,YAAa,UAAW,gBAEvCC,EAAY,SAAmBC,GACjC,MAAsB,qBAARA,GAGZC,EAAW,CACbnB,aAAc,IAGhB,SAASpG,EAAcgC,EAAGnB,EAAYc,EAAoBC,GACxD,IAAIH,EAAQ3B,EAAa,GAAIyH,EAAU1G,GACnC2G,EAAYtG,MAAMC,QAAQM,EAAMgG,QAAUhG,EAAMgG,OAAS,CAAChG,EAAMgG,QAChEC,EAAcR,EAAaM,GAC3BC,EAASR,EAAUS,EAAajG,EAAMkG,cACtCtF,EAAc8E,EAAiBxF,EAAoBF,EAAMY,aAAe,IACxE3B,EAAU0G,EAAYQ,QAAO,SAAUC,EAAMtD,GAC/C,IAAIuD,EAAQrG,EAAM8C,GAMlB,OAJI8C,EAAUS,KACZD,EAAKtD,GAAOuD,GAGPD,IACN,IAEH,SAASjD,EAAcrD,EAAM8C,EAAO0D,EAAUzF,GAC5C,OAAI0F,EAAOzG,GACF0G,EAAc1G,GAGnB2G,EAAW3G,GACN4G,EAAkB5G,EAAM6G,EAAkB7G,EAAMwG,IAGrDM,EAAO9G,GACFK,EAAcL,EAAMc,EAAagC,EAAO,CAC7CO,cAAeA,IAIZ0D,EAAe/G,EAAM8C,EAAO/B,GAGrC,SAAS8F,EAAkB7G,EAAMwG,GAG/B,IAFA,IAAI1D,EAAQ,EAEHM,EAAI,EAAGA,EAAIoD,EAASzB,OAAQ3B,IAAK,CACxC,GAAIoD,EAASpD,KAAOpD,EAClB,OAAO8C,EAGJ6D,EAAWH,EAASpD,KAIzBN,IAGF,OAAOA,EAGT,SAASiE,EAAenI,EAAOkE,EAAO/B,GACpC,IAAIiG,EAAOvB,EAAe7G,GACtBW,EAAWyH,EAAK9D,KAAI,SAAUlD,EAAMoD,EAAGoD,GACzC,OAAOnD,EAAcrD,EAAMoD,EAAGoD,GAAU,MAEtCS,EAAa,CACfjE,IAAKpE,EAAM2E,MAAQ,SAASnC,OAAO0B,GACnC9C,KAAMpB,EACNmC,SAAUA,EACVD,YAAaA,EACb3B,QAASA,GAEX,OAAOsB,EAAEK,EAAYlC,MAAOqI,EAAY1H,GAG1C,SAASqH,EAAkBhI,EAAOkE,GAChC,IAAIE,EAAMpE,EAAM2E,KACZyD,EAAOvB,EAAe7G,GACtBW,EAAWyH,EAAK9D,IAAIG,GACxB,OAAO5C,EAAEK,EAAYoD,SAAU,CAC7BlE,KAAMpB,EACNkC,YAAaA,EACbgC,MAAOA,EACPE,IAAKA,EACL7D,QAASA,GACRI,GAGL,SAASmH,EAAczC,GACrB,IAAInC,EAAOmC,EAAKC,SACZgD,EAAQjD,EAAKiD,MACblE,EAAMiB,EAAKV,KACXhE,EAAW0E,EAAK1E,SAAS2D,IAAIG,GACjC,OAAO5C,EAAEK,EAAYmD,KAAM,CACzBjB,IAAKA,EACLkE,MAAOA,EACPpF,KAAMA,EACN3C,QAASA,GACRI,GAIL,IAAI4H,EAA+BC,QAAQlH,EAAMiH,8BAC7CE,EAAQnB,EAAOhD,IAAIG,GAEvB,GAAI8D,GAAgCE,EAAMtC,OAAS,EAAG,CACpD,IAAIuC,EAAiBpH,EAAMqH,UAAY,CACrCA,UAAWrH,EAAMqH,WACf,GACJ,OAAO9G,EAAEK,EAAYqD,UAAWmD,EAAgBD,GAGlD,OAAIA,EAAM,GACDA,EAAM,GAGqB,oBAAtBvG,EAAYuD,MAAuB5D,EAAEK,EAAYuD,OAASvD,EAAYuD,MAGtF,SAASoC,EAAO7H,GACd,MAAuB,SAAhBA,EAAMqC,OAAoBrC,EAAMsF,SAGzC,SAASyC,EAAW/H,GAClB,MAAuB,UAAhBA,EAAMqC,OAAqBrC,EAAMsF,SAG1C,SAAS4C,EAAOlI,GACd,MAAwB,kBAAVA,GAAsBA,EAAM6C,OAAyB,SAAhB7C,EAAMqC,MAG3DX,EAAOC,QAAU9B,G,wBClJhB,SAAU+I,EAAQC,GAC8CnH,EAAOC,QAAUkH,KADlF,CAIEC,GAAM,WACN,SAASC,IAeP,OAdAA,EAAW9I,OAAO+I,QAAU,SAAUC,GACpC,IAAK,IAAIzE,EAAI,EAAGA,EAAI0E,UAAU/C,OAAQ3B,IAAK,CACzC,IAAI2E,EAASD,UAAU1E,GAEvB,IAAK,IAAIJ,KAAO+E,EACVlJ,OAAOmJ,UAAUlJ,eAAeC,KAAKgJ,EAAQ/E,KAC/C6E,EAAO7E,GAAO+E,EAAO/E,IAK3B,OAAO6E,GAGFF,EAASM,MAAMP,KAAMI,WAG9B,SAASI,EAA4BC,EAAGC,GACtC,GAAKD,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GACvD,IAAIE,EAAIzJ,OAAOmJ,UAAUxC,SAASzG,KAAKoJ,GAAGI,MAAM,GAAI,GAEpD,MADU,WAAND,GAAkBH,EAAEK,cAAaF,EAAIH,EAAEK,YAAYC,MAC7C,QAANH,GAAqB,QAANA,EAAoB3I,MAAM+I,KAAKP,GACxC,cAANG,GAAqB,2CAA2CpG,KAAKoG,GAAWD,EAAkBF,EAAGC,QAAzG,GAGF,SAASC,EAAkBM,EAAKC,IACnB,MAAPA,GAAeA,EAAMD,EAAI5D,UAAQ6D,EAAMD,EAAI5D,QAE/C,IAAK,IAAI3B,EAAI,EAAGyF,EAAO,IAAIlJ,MAAMiJ,GAAMxF,EAAIwF,EAAKxF,IAAKyF,EAAKzF,GAAKuF,EAAIvF,GAEnE,OAAOyF,EAGT,SAASC,EAAgCX,GACvC,IAAI/E,EAAI,EAER,GAAsB,qBAAX2F,QAAgD,MAAtBZ,EAAEY,OAAOC,UAAmB,CAC/D,GAAIrJ,MAAMC,QAAQuI,KAAOA,EAAID,EAA4BC,IAAK,OAAO,WACnE,OAAI/E,GAAK+E,EAAEpD,OAAe,CACxBkE,MAAM,GAED,CACLA,MAAM,EACN1C,MAAO4B,EAAE/E,OAGb,MAAM,IAAI8F,UAAU,yIAItB,OADA9F,EAAI+E,EAAEY,OAAOC,YACN5F,EAAE+F,KAAKxF,KAAKP,GAGrB,IAAIgG,EAAU,+CACd,SAASC,EAAa/D,GACpB,IAAIgE,EAAahE,EAAIiE,MAAM,KACvBC,EAAKF,EAAW,GAChBG,EAAkBH,EAAW,GAC7BI,EAASJ,EAAW,GAExB,IAAKE,IAAOC,IAAoBC,EAC9B,MAAM,IAAIvI,MAAM,yBAA2BmE,EAAM,4BAA8B8D,EAAU,MAG3F,IAAIO,EAAwBF,EAAgBF,MAAM,KAC9CK,EAAcD,EAAsB,GACpCE,EAAeF,EAAsB,GAErCG,GAASF,EACTG,GAAUF,EACVG,EAAiBC,SAASH,IAAUG,SAASF,GAEjD,IAAKC,EACH,MAAM,IAAI7I,MAAM,yBAA2BmE,EAAM,4BAA8B8D,EAAU,MAG3F,MAAO,CACLI,GAAIA,EACJM,MAAOA,EACPC,OAAQA,EACRL,OAAQA,GAIZ,IAAIQ,EAAQ,SAAetH,GACzB,IAAImF,EAASnF,EACb,QAAOmF,GAAgC,kBAAhBA,EAAOxC,MAG5B4E,EAAU,SAAiBvH,GAC7B,IAAImF,EAASnF,EACb,QAAOmF,GAA+B,kBAAfA,EAAOqC,KAG5BC,EAAc,SAAqBzH,GACrC,IAAImF,EAASnF,EACb,SAAOmF,IAAUA,EAAOrF,QAAoC,kBAArBqF,EAAOrF,MAAM2C,KAGtD,SAASiF,EAAYvC,GACnB,IAAKA,EACH,OAAO,KAGT,IAAI/D,EAEJ,GAAsB,kBAAX+D,GAAuBwC,EAAMxC,GACtC/D,EAAQ,CACNtB,MAAO,CACL6C,KAAMiF,EAAQzC,UAGb,GAAsB,kBAAXA,EAChB/D,EAAQ,CACNtB,MAAO,CACL6C,KAAMwC,SAGL,GAAImC,EAAMnC,GACf/D,EAAQ,CACNtB,MAAOqF,QAEJ,GAAIoC,EAAQpC,GACjB/D,EAAQ,CACNtB,MAAO,CACL6C,KAAMwC,EAAOqC,KAAO,UAGnB,GAAIC,EAAYtC,GACrB/D,EAAQ,CACNtB,MAAO,CACL6C,KAAMiF,EAAQzC,EAAOrF,MAAM2C,WAG1B,IAA4B,kBAAjB0C,EAAOrF,MAGvB,OAAO,KAFPsB,EAAQ+D,EAKV,IAAIpF,EAAMoF,EAUV,OARIpF,EAAI8H,OACNzG,EAAMyG,KAAO9H,EAAI8H,MAGf9H,EAAI+H,UACN1G,EAAM0G,QAAU/H,EAAI+H,SAGfC,EAAc3G,GAGvB,SAASuG,EAAMlF,GACb,MAAO,eAAenD,KAAK,GAAKmD,GAGlC,SAASmF,EAAQnF,GACf,IAAIuF,EAAQvF,EAAIkE,MAAM,KAAKhB,OAAO,GAClC,OAAQ,SAAWqC,EAAM,IAAIC,QAAQ,cAAe,OAGtD,SAASF,EAAc3G,GACrB,GAAIA,EAAMyG,MAAQzG,EAAM0G,QACtB,OAAO1G,EAGT,IAAI8G,EAASnD,EAAS,GAAI3D,GAoB1B,OAlBK8G,EAAOL,OACVK,EAAOL,KAAO,CACZM,KAAM,EACNC,IAAK,EACLC,OAAQ,EACRC,MAAO,IAINJ,EAAOJ,UACVI,EAAOJ,QAAU,CACfS,EAAG,GACHC,EAAG,GACHrB,OAAQ,EACRD,MAAO,IAIJgB,EAGT,IAAIO,EAAiC,CAAC,CAAC,QAAS,KAAM,CAAC,SAAU,KAAM,CAAC,SAAU,MAAO,CAAC,WAAY,MAAO,CAAC,OAAQ,QAAS,CAAC,UAAW,SAAU,CAAC,SAAU,UAAW,CAAC,cAAe,MAAO,CAAC,YAAa,SAAU,CAAC,YAAa,SAAU,CAAC,WAAY,SAAU,CAAC,WAAY,SAAU,CAAC,UAAW,KAAM,CAAC,MAAO,OAAQ,CAAC,OAAQ,QAAS,CAAC,aAAc,OAAQ,CAAC,OAAQ,QAAS,CAAC,MAAO,QACrY,SAASC,EAAYnM,GACnB,IAAIoM,EAAO5D,EAAS,GAAIxI,GAAW,IAE/B4I,EAASwD,EAAKxD,cACXwD,EAAKxD,OACZ,IAAI/D,EAAQsG,EAAYvC,GAExB,IAAK/D,EACH,OAAO,KAGT,IAAIwF,EAAKxF,EAAMtB,MAAM6C,MAAQvB,EAAMtB,MAAM0H,KAAO,GAC5C1H,EAAQ2G,EAAaG,GACrBgC,EAAWC,KAAKC,MAAM1H,EAAMyG,KAAKM,KAAOrI,EAAMoH,OAC9C6B,EAAUF,KAAKC,MAAM1H,EAAMyG,KAAKO,IAAMtI,EAAMqH,QAC5CU,EAAO,CACTM,KAAMS,EACNR,IAAKW,EACL7B,MAAO2B,KAAKC,MAAMhJ,EAAMoH,MAAQ9F,EAAMyG,KAAKS,MAAQxI,EAAMoH,MAAQ0B,GACjEzB,OAAQ0B,KAAKC,MAAMhJ,EAAMqH,OAAS/F,EAAMyG,KAAKQ,OAASvI,EAAMqH,OAAS4B,IAEnEC,EAAwB5H,EAAM0G,QAAQX,OAASrH,EAAMqH,OAAS,EAC9D8B,EAA0B7H,EAAM0G,QAAQZ,MAAQpH,EAAMoH,MAAQ,EAC9DgC,EAAiB9H,EAAM0G,QAAQS,EAAIzI,EAAMoH,MACzCiC,EAAiB/H,EAAM0G,QAAQU,EAAI1I,EAAMqH,OACzCW,EAAU,CACZK,KAAMe,EAAiBD,EACvBb,IAAKe,EAAiBH,EACtBV,MAAOY,EAAiBD,EACxBZ,OAAQc,EAAiBH,GAU3B,OAPML,EAAKS,MAAQT,EAAKU,YAAcV,EAAKW,mBAAqBX,EAAKd,OACnEc,EAAO5D,EAASA,EAAS,GAAI4D,GAAOY,EAAI,CACtC1B,KAAMA,EACNC,QAASA,GACRa,KAGEa,EAAezE,EAASA,EAAS,GAAI4D,GAAO,GAAI,CACrD7I,MAAOA,KAIX,SAAS0J,EAAeb,GACtB,IAAIc,EAASd,EAAKe,SAAW,wBACzBC,EAAWhB,EAAK7I,MAAM8G,GAAK,IAAM+B,EAAK7I,MAAMoH,MAAQ,IAAMyB,EAAK7I,MAAMqH,OAAS,IAAMwB,EAAK7I,MAAMgH,OAC/F4C,EAAUD,EAAS,WAAad,EAAKpG,UAAY,IAAMoG,EAAKnG,QAAU,IAAMmH,EAC5EvH,EAAS,GAEb,GAAIuG,EAAKS,KAAM,CACb,IAAIQ,EAAajB,EAAKS,KAClBjB,EAAOyB,EAAWzB,KAClBC,EAAMwB,EAAWxB,IACjBlB,EAAQ0C,EAAW1C,MACnBC,EAASyC,EAAWzC,OACpB0C,EAA2B,IAAT1B,GAAsB,IAARC,GAAajB,IAAWwB,EAAK7I,MAAMqH,QAAUD,IAAUyB,EAAK7I,MAAMoH,MAElG2C,GACFzH,EAAO0H,KAAK,QAAU3B,EAAO,IAAMC,EAAM,IAAMlB,EAAQ,IAAMC,GAI7DwB,EAAKoB,IACP3H,EAAO0H,KAAK,MAAQnB,EAAKoB,IAGvBpB,EAAKU,aACPjH,EAAO0H,KAAK,QAAUnB,EAAKU,WAAWd,GACtCnG,EAAO0H,KAAK,QAAUnB,EAAKU,WAAWb,IAGxC,IAAIwB,EAAO,CAACrB,EAAKsB,gBAAkB,IAAKtB,EAAKuB,cAAgB,KAAKC,OAAO3F,SAASnC,KAAK,IAiBvF,OAfI2H,GACF5H,EAAO0H,KAAK,QAAUE,GAGxBvB,EAA+B2B,SAAQ,SAAUC,GAC/C,IAAIC,EAAWD,EAAQ,GACnBE,EAAQF,EAAQ,GAEU,qBAAnB1B,EAAK2B,GACdlI,EAAO0H,KAAKS,EAAQ,IAAM1I,mBAAmB8G,EAAK2B,KAClB,qBAAhB3B,EAAK4B,IACrBnI,EAAO0H,KAAKS,EAAQ,IAAM1I,mBAAmB8G,EAAK4B,QAIhC,IAAlBnI,EAAOD,OACFuH,EAGFA,EAAU,IAAMtH,EAAOC,KAAK,KAGrC,SAASkH,EAAIpE,EAAQwD,GACnB,IAAI6B,EACAC,EAAW9B,EAAKzB,MAChBwD,EAAY/B,EAAKxB,OAErB,IAAMsD,IAAYC,EAChB,MAAO,CACLxD,MAAOuD,EACPtD,OAAQuD,EACRtB,KAAMjE,EAAO0C,MAIjB,IAAIA,EAAO1C,EAAO0C,KACdC,EAAU3C,EAAO2C,QACjB6C,EAAqBF,EAAWC,EAChCE,EAAkB/C,EAAKX,MAAQW,EAAKV,OAExC,GAAIyD,EAAkBD,EAAoB,CACxC,IAAIxD,EAASU,EAAKV,OACdD,EAAQC,EAASwD,EACjBvC,EAAMP,EAAKO,IACXyC,GAAkB/C,EAAQQ,MAAQR,EAAQK,MAAQ,EAAIL,EAAQK,KAC9DA,EAAO0C,EAAiB3D,EAAQ,EAEhCiB,EAAON,EAAKM,KACdA,EAAON,EAAKM,KACHA,EAAOjB,EAAQW,EAAKM,KAAON,EAAKX,QACzCiB,EAAON,EAAKM,KAAON,EAAKX,MAAQA,GAGlCsD,EAAW,CACTrC,KAAMU,KAAKC,MAAMX,GACjBC,IAAKS,KAAKC,MAAMV,GAChBlB,MAAO2B,KAAKC,MAAM5B,GAClBC,OAAQ0B,KAAKC,MAAM3B,QAEhB,CACL,IAAI2D,EAASjD,EAAKX,MAEd6D,EAAUD,EAASH,EAEnBK,EAAQnD,EAAKM,KACb8C,GAAkBnD,EAAQO,OAASP,EAAQM,KAAO,EAAIN,EAAQM,IAE9D8C,EAAOD,EAAiBF,EAAU,EAElCG,EAAOrD,EAAKO,IACd8C,EAAOrD,EAAKO,IACH8C,EAAOH,EAAUlD,EAAKO,IAAMP,EAAKV,SAC1C+D,EAAOrD,EAAKO,IAAMP,EAAKV,OAAS4D,GAGlCP,EAAW,CACTrC,KAAMU,KAAKsC,IAAI,EAAGtC,KAAKuC,MAAMJ,IAC7B5C,IAAKS,KAAKsC,IAAI,EAAGtC,KAAKuC,MAAMF,IAC5BhE,MAAO2B,KAAKC,MAAMgC,GAClB3D,OAAQ0B,KAAKC,MAAMiC,IAIvB,MAAO,CACL7D,MAAOuD,EACPtD,OAAQuD,EACRtB,KAAMoB,GAIV,IAAIa,EAAY,CAAC,OAAQ,OAAQ,OAAQ,UAAW,MAAO,QAAS,OAChEC,EAAa,CAAC,MAAO,SAAU,OAAQ,QAAS,SAAU,aAAc,WACxEC,EAAiB,CAAC,UAEtB,SAASC,EAAeC,GACtB,QAAOA,GAAwC,kBAAxBA,EAAOC,aAGhC,SAASC,EAAgBvL,GAGvB,IAFA,IAE6DwL,EAFzDC,EAAQpD,EAEHqD,EAAY5F,EAAgC2F,KAAiBD,EAAQE,KAAazF,MAAO,CAChG,IAAI0F,EAAQH,EAAMjI,MACd2G,EAAWyB,EAAM,GACjBxB,EAAQwB,EAAM,GAElB,GAAI3L,IAAQkK,GAAYlK,IAAQmK,EAC9B,OAAOD,EAIX,OAAOlK,EAGT,SAASuB,EAAWpF,GAClB,IAAIkP,EAASlP,EAEb,GAAIiP,EAAeC,GAAS,CAC1B,IAAIO,EAAuBP,EAAOC,aAC9BO,EAASD,EAAqBE,QAC9B3J,EAAYyJ,EAAqBzJ,UACjCC,EAAUwJ,EAAqBxJ,QAC/B0J,EAAUD,GAAU,wBACxB,OAAO,IAAIE,EAAgB,KAAM,CAC/BzC,QAASwC,EAAQjE,QAAQ,mBAAoB,gBAC7C1F,UAAWA,EACXC,QAASA,IAIb,OAAO,IAAI2J,EAAgB,KAAM5P,GAEnC,IAAI4P,EAA+B,WACjC,SAASA,EAAgBC,EAAQ7P,GAC/BuI,KAAKvI,QAAmBwI,EAATqH,EAAkBrH,EAAS,GAAIqH,EAAO7P,SAAW,IAA+B,GAA1BA,GAAW,IAGlF,IAAI8P,EAASF,EAAgB/G,UAyN7B,OAvNAiH,EAAOC,YAAc,SAAqB/P,GACxC,IAAImN,EAAUnN,EAAQmN,SAAW5E,KAAKvI,QAAQmN,QAC1C6C,EAAa,CACf7C,QAASA,GAGX,IAAK,IAAItJ,KAAO7D,EACd,GAAIA,EAAQL,eAAekE,GAAM,CAC/B,IAAIoM,EAAUb,EAAgBvL,GAC9BmM,EAAWC,GAAWjQ,EAAQ6D,GAIlC,OAAO,IAAI+L,EAAgBrH,KAAMC,EAAS,CACxC2E,QAASA,GACR6C,KAGLF,EAAOjL,MAAQ,SAAe+D,GAC5B,OAAOL,KAAKwH,YAAY,CACtBnH,OAAQA,KAIZkH,EAAO7J,QAAU,SAAiBiK,GAChC,OAAO3H,KAAKwH,YAAY,CACtB9J,QAASiK,KAIbJ,EAAO9J,UAAY,SAAmBmK,GACpC,OAAO5H,KAAKwH,YAAY,CACtB/J,UAAWmK,KAIfL,EAAOtC,GAAK,SAAY4C,GACtB,OAAO7H,KAAKwH,YAAY,CACtBvC,GAAI4C,KAIRN,EAAOO,IAAM,SAAaC,GACxB,OAAO/H,KAAKwH,YAAY,CACtBM,IAAKC,KAITR,EAAOnF,MAAQ,SAAe4D,GAC5B,OAAOhG,KAAKwH,YAAY,CACtBpF,MAAO4D,KAIXuB,EAAOlF,OAAS,SAAgB4D,GAC9B,OAAOjG,KAAKwH,YAAY,CACtBnF,OAAQ4D,KAIZsB,EAAOhD,WAAa,SAAoBd,EAAGC,GACzC,OAAO1D,KAAKwH,YAAY,CACtBjD,WAAY,CACVd,EAAGA,EACHC,EAAGA,MAKT6D,EAAOS,SAAW,SAAkBC,GAClC,OAAOjI,KAAKwH,YAAY,CACtBQ,SAAUC,KAIdV,EAAOW,SAAW,SAAkBC,GAClC,OAAOnI,KAAKwH,YAAY,CACtBU,SAAUC,KAIdZ,EAAOa,UAAY,SAAmBC,GACpC,OAAOrI,KAAKwH,YAAY,CACtBY,UAAWC,KAIfd,EAAOe,UAAY,SAAmBC,GACpC,OAAOvI,KAAKwH,YAAY,CACtBc,UAAWC,KAIfhB,EAAOiB,KAAO,SAAcpG,EAAOC,GACjC,OAAOrC,KAAKwH,YAAY,CACtBpF,MAAOA,EACPC,OAAQA,KAIZkF,EAAOkB,KAAO,SAAcC,GAC1B,OAAO1I,KAAKwH,YAAY,CACtBiB,KAAMC,KAIVnB,EAAOoB,QAAU,SAAiBC,GAChC,OAAO5I,KAAKwH,YAAY,CACtBmB,QAASC,KAIbrB,EAAOjD,KAAO,SAAcjB,EAAMC,EAAKlB,EAAOC,GAC5C,OAAOrC,KAAKwH,YAAY,CACtBlD,KAAM,CACJjB,KAAMA,EACNC,IAAKA,EACLlB,MAAOA,EACPC,OAAQA,MAKdkF,EAAOvF,OAAS,SAAgB6G,GAC9B,OAAO7I,KAAKwH,YAAY,CACtBxF,OAAQ6G,KAIZtB,EAAOuB,OAAS,SAAgBC,GAC9B,OAAO/I,KAAKwH,YAAY,CACtBsB,OAAQC,KAIZxB,EAAOyB,YAAc,SAAqBC,GACxC,OAAOjJ,KAAKwH,YAAY,CACtBwB,YAAaC,KAIjB1B,EAAO2B,QAAU,SAAiBC,GAChC,OAAOnJ,KAAKwH,YAAY,CACtB0B,QAASC,KAIb5B,EAAO6B,cAAgB,SAAuBC,GAC5C,OAAOrJ,KAAKwH,YAAY,CACtB6B,SAAUA,KAId9B,EAAOpC,eAAiB,WACtB,OAAOnF,KAAKwH,YAAY,CACtBrC,gBAAgB,KAIpBoC,EAAOnC,aAAe,WACpB,OAAOpF,KAAKwH,YAAY,CACtBpC,cAAc,KAIlBmC,EAAO/C,kBAAoB,WACzB,OAAOxE,KAAKwH,YAAY,CACtBhD,mBAAmB,KAIvB+C,EAAO9C,IAAM,SAAa5F,GACxB,IAAkC,IAA9B0H,EAAU+C,QAAQzK,GACpB,MAAM,IAAIpF,MAAM,qBAAwBoF,EAAQ,KAGlD,OAAOmB,KAAKwH,YAAY,CACtB/C,IAAK5F,KAIT0I,EAAOxE,KAAO,SAAclE,GAC1B,IAAmC,IAA/B2H,EAAW8C,QAAQzK,GACrB,MAAM,IAAIpF,MAAM,sBAAyBoF,EAAQ,KAGnD,OAAOmB,KAAKwH,YAAY,CACtBzE,KAAMlE,KAIV0I,EAAOgC,WAAa,SAAoBC,GACtC,OAAOxJ,KAAKwH,YAAY,CACtB+B,WAAYC,KAIhBjC,EAAOkC,KAAO,SAAc5K,GAC1B,IAAuC,IAAnC4H,EAAe6C,QAAQzK,GACzB,MAAM,IAAIpF,MAAM,sBAAyBoF,EAAQ,KAGnD,OAAOmB,KAAKwH,YAAY,CACtBiC,KAAM5K,KAIV0I,EAAO5J,IAAM,WACX,OAAOiG,EAAY5D,KAAKvI,UAG1B8P,EAAOzJ,SAAW,WAChB,OAAOkC,KAAKrC,OAGP0J,EA9N0B,GAiOnC,OAAOxK,M,kCCnnBT,SAAS6M,EAAQC,GAAwT,OAAtOD,EAArD,oBAAXrI,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiBqI,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXtI,QAAyBsI,EAAI7I,cAAgBO,QAAUsI,IAAQtI,OAAOf,UAAY,gBAAkBqJ,GAAiBD,EAAQC,GAExV,IAAI9S,EAAe,EAAQ,QAEvBuH,EAAY,SAAmBC,GACjC,MAAsB,qBAARA,GAIhBzF,EAAOC,QAAU,SAA0BH,EAAoBkR,GAC7D,OAAOzS,OAAOiG,KAAK1E,GAAoBiG,QAAO,SAAUkL,EAAKvO,GAC3D,IAAIlB,EAAOsP,EAAQhR,EAAmB4C,IAUtC,OAPEuO,EAAIvO,GADO,aAATlB,EACSgE,EAAUwL,EAAgBtO,IAAQsO,EAAgBtO,GAAO5C,EAAmB4C,GACrE,WAATlB,EACEvD,EAAa,GAAI6B,EAAmB4C,GAAMsO,EAAgBtO,IAE1B,qBAAzBsO,EAAgBtO,GAAuB5C,EAAmB4C,GAAOsO,EAAgBtO,GAG9FuO,IACN,M,oCCtBL,IAAI7S,EAAiB,EAAQ,QAEzB8S,EAAiB,EAAQ,QAEzBhR,EAAc,EAAQ,QAEtBoF,EAAmB,EAAQ,QAE/BtF,EAAOC,QAAU,CACf9B,cAAe,SAAuBW,EAAYc,EAAOE,EAAoBC,GAC3E,GAAID,EACF,OAAOoR,EAAepS,EAAYc,EAAOE,EAAoBC,GAI/D,IAAIS,EAAcpC,EAAeU,GACjC,OAAOoS,EAAepS,EAAYc,EAAOY,EAAYV,mBAAoBU,EAAYT,gBAEvF3B,eAAgBA,EAChB8B,YAAaA,EACboF,iBAAkBA,I,oCCpBpB,IAAI6L,EAAe,CAAC,SAAU,KAAM,OAAQ,YAAa,kBAErDhM,EAAiB,SAAwB7G,GAC3C,IAAIW,EAAWX,EAAMW,SACjBmS,EAAW9S,EAAM8S,SAErB,IAAKnS,IAAaA,EAASwF,OACzB,MAAO,GAGT,IAAI4M,EAAcpS,EAAS2D,IAAI0O,GAC3BC,EAAW,CACb5Q,MAAO,OACP1B,SAAU,IAERuS,EAAY,CAACD,GA0DjB,OAzDAtS,EAASyN,SAAQ,SAAUnK,EAAMO,GAC/B,IAAI2O,EAAcJ,EAAYvO,GAE9B,GAAK2O,EAAL,CAMA,IAAIC,EAAM,EAEV,GAAIF,EAAU/M,OAAS,EACrB,IAAKiN,EAAKA,EAAMF,EAAU/M,OAAQiN,IAAO,CACvC,IAAIjS,EAAO+R,EAAUE,GAAKC,QACtBnP,EAAQiP,EAAYf,QAAQjR,GAEhC,IAAe,IAAX+C,EACF,MAGFiP,EAAYG,OAAOpP,EAAO,GAK9BgP,EAAYA,EAAUvJ,MAAM,EAAGyJ,GAE/B,IAAIG,EAAcC,EAAmBN,GAkBrC,GAjBAC,EAAY/E,SAAQ,SAAUjN,GAC5B,IAAIC,EAAO,CACTiB,MAAO,OACPsC,KAAMV,EAAKU,KACXhE,SAAU,GACVQ,KAAM2R,EAASW,MAAK,SAAUC,GAC5B,OAAOA,EAAI/O,OAASxD,MAChBA,EACNkS,QAASlS,GAEXoS,EAAY5S,SAASmN,KAAK1M,GAC1B8R,EAAUpF,KAAK1M,GACfmS,EAAcnS,KAKZuS,EAAW1P,GAAO,CAGpB,IAFA,IAAI2P,EAAQ3P,EAAKI,KAAKsG,MAAM,MAEnBkJ,EAAOD,EAAMzN,OAAQ0N,KAAS,GACrCD,EAAMN,OAAOO,EAAM,EAAG,MAGxBN,EAAY5S,SAAW4S,EAAY5S,SAAS6B,OAAOoR,QAEnDL,EAAY5S,SAAW4S,EAAY5S,SAAS6B,OAAOyB,OAnDrD,CACE,IAAI6P,EAAWZ,EAAUA,EAAU/M,OAAS,GAC5C2N,EAASnT,SAASmN,KAAK7J,OAoDpBgP,EAAStS,UAOlB,SAASqS,EAAsB/O,EAAMO,EAAGuP,GACtC,IAAK9P,EAAKpB,OAA+B,IAAtBoB,EAAKpB,MAAMsD,OAC5B,OAAOlC,EAAKpB,OAAS,GAGvB,IAAImR,EAAiB/P,EAAKpB,MAAM4E,QAAO,SAAUwM,EAAY9S,GAC3D8S,EAAW9S,GAAQ8S,EAAW9S,GAAQ8S,EAAW9S,GAAQ,EAAI,EAE7D,IAAK,IAAI+S,EAAe1P,EAAI,EAAG0P,EAAeH,EAAM5N,OAAQ+N,IAAgB,CAC1E,IAAIC,EAAUJ,EAAMG,GAEpB,IAAIC,EAAQtR,QAAS9B,MAAMC,QAAQmT,EAAQtR,SAA2C,IAAjCsR,EAAQtR,MAAMuP,QAAQjR,GAGzE,MAFA8S,EAAW9S,KAMf,OAAO8S,IACN,IACCG,EAAkBC,EAAUtP,KAAK,KAAMiP,GAE3C,OAAO/P,EAAKpB,MAAM8G,QAAQ2K,KAAKF,GAGjC,SAASC,EAAUJ,EAAYM,EAAOC,GACpC,IAAIC,EAAcR,EAAWM,IAAU,EACnCG,EAAcT,EAAWO,IAAU,EAEvC,GAAIC,IAAgBC,EAClB,OAAOA,EAAcD,EAGvB,IAAIE,EAAc9B,EAAaT,QAAQmC,GACnCK,EAAc/B,EAAaT,QAAQoC,GAEvC,OAAIG,IAAgBC,EACXD,EAAcC,EAInBL,EAAQC,GACF,EACCD,EAAQC,EACV,EAGF,EAGT,SAASb,EAAWvS,GAClB,MAAsB,SAAfA,EAAKiB,OAAyC,kBAAdjB,EAAKiD,OAAsBtD,MAAMC,QAAQI,EAAKyB,QAAgC,qBAAfzB,EAAKyB,OAG7G,SAAS2Q,EAAmB/K,GAC1B,IAAK,IAAIjE,EAAIiE,EAAMtC,OAAS,EAAG3B,GAAK,EAAGA,IAAK,CAC1C,IAAIpD,EAAOqH,EAAMjE,GAEjB,GAAmB,SAAfpD,EAAKiB,OAAoBjB,EAAKT,SAChC,OAAOS,GAObM,EAAOC,QAAUkF,G,mBCpJjB,IAAI6G,EAAU,+BAEdhM,EAAOC,QAAU,SAAyBkT,GACxC,OAAOnH,EAAUmH,I,kCCDnB,IAAIlV,EAAe,EAAQ,QAI3B,SAASmH,EAAUQ,GAKjB,IAJA,IAEIwN,EAFAC,EAAO7L,UAAU/C,OAAS,QAAsBX,IAAjB0D,UAAU,GAAmBA,UAAU,GAAK,OAC3Ed,EAAO,GAGF5D,EAAI,EAAGA,EAAI8C,EAAOnB,OAAQ3B,IAAK,CACtC,IAAIxE,EAAQsH,EAAO9C,GAEnB,GAAKwQ,EAAYhV,GAOjB,GAAK8U,EAOL,GAAIG,EAAiBjV,EAAO8U,GAC1BA,EAAYnU,SAASmN,KAAK9N,QAK5B,GAAIA,EAAMsI,MAAQwM,EAAYxM,MAA9B,CACE,IAAI4M,EAAUC,EAAcnV,GAE5B,GAAa,SAAT+U,EAAiB,CAOnB,IAAIK,EAAeC,EAAUP,GACzBQ,EAAe3V,EAAa,GAAIyV,EAAc,CAChDzU,SAAUyU,EAAazU,SAAS6B,OAAO0S,KAGzCJ,EAAYnU,SAASmU,EAAYnU,SAASwF,OAAS,GAAKmP,OAExDR,EAAYnU,SAASmN,KAAKoH,GAI5BJ,EAAcI,OAKhB,GAAIlV,EAAMsI,MAAQwM,EAAYxM,MAA9B,CAEE,IAAIiN,EAAQC,EAAiBpN,EAAKA,EAAKjC,OAAS,GAAInG,GAEpD,GAAIuV,EAAO,CACTT,EAAcS,EACdT,EAAYnU,SAASmN,KAAK9N,GAC1B,SAIF8U,EAAcK,EAAcnV,GAC5BoI,EAAK0F,KAAKgH,QAKZ,GAAI9U,EAAMsF,WAAawP,EAAYxP,SAiBnCxC,QAAQC,KAAK,sCAAuC/C,GACpDoI,EAAK0F,KAAK9N,OAlBV,CACE,IAAIyV,EAASD,EAAiBpN,EAAKA,EAAKjC,OAAS,GAAI,CACnDmC,MAAOtI,EAAMsI,QAGf,GAAImN,GAAUA,EAAOnQ,WAAatF,EAAMsF,SAAU,CAChDwP,EAAcW,EACdX,EAAYnU,SAASmN,KAAK9N,GAC1B,SAEA8U,EAAcK,EAAcnV,GAC5BoI,EAAK0F,KAAKgH,QAlEZA,EAAcK,EAAcnV,GAC5BoI,EAAK0F,KAAKgH,QARV1M,EAAK0F,KAAK9N,GACV8U,EAAc,KAkFlB,OAAO1M,EAGT,SAAS4M,EAAYhV,GACnB,OAAOwI,QAAQxI,EAAMsF,UAGvB,SAAS2P,EAAiBjV,EAAOqF,GAC/B,OAAOrF,EAAMsI,QAAUjD,EAAKiD,OAAStI,EAAMsF,WAAaD,EAAKC,SAG/D,SAAS6P,EAAcnV,GACrB,MAAO,CACLqC,MAAO,OACPsC,KAAM,GAAGnC,OAAOxC,EAAM2E,KAAM,WAC5B2D,MAAOtI,EAAMsI,MACbhD,SAAUtF,EAAMsF,SAChB3E,SAAU,CAACX,IAIf,SAASqV,EAAUrV,GACjB,OAAOA,EAAMW,UAAYX,EAAMW,SAASX,EAAMW,SAASwF,OAAS,GAGlE,SAASqP,EAAiBvC,EAAUyC,GAClC,IAAIC,EAA4C,kBAAtBD,EAASpQ,SAEnC,GAAuB,SAAnB2N,EAAS5Q,OAAoB4Q,EAAS3K,QAAUoN,EAASpN,OAASqN,GAAgB1C,EAAS3N,WAAaoQ,EAASpQ,SACnH,OAAO2N,EAGT,IAAI7R,EAAOiU,EAAUpC,GAErB,QAAK7R,GAIEoU,EAAiBpU,EAAMsU,GAGhChU,EAAOC,QAAUmF,G,kCCzIjB,IAAInH,EAAe,EAAQ,QAc3B,SAASiW,EAAaC,GACpB,OAAOC,EAASC,KAAKC,UAAUH,IAAOjP,SAAS,IAAIqF,QAAQ,gBAAiB,IAK9E,SAAS6J,EAASG,GAChB,IAAIC,EAAO,EACPC,EAASF,EAAI9P,OAEjB,GAAe,IAAXgQ,EACF,OAAOD,EAGT,IAAK,IAAI1R,EAAI,EAAGA,EAAI2R,EAAQ3R,IAC1B0R,GAAQA,GAAQ,GAAKA,EAAOD,EAAIG,WAAW5R,GAC3C0R,GAAQA,EAGV,OAAOA,EA/BTxU,EAAOC,QAAU,SAAU2F,GACzB,OAAOA,EAAOhD,KAAI,SAAUtE,GAC1B,OAAIA,EAAM2E,KACD3E,EAGFL,EAAa,CAClBgF,KAAMiR,EAAa5V,IAClBA,Q,kCCVP,IAAIK,EAAc,EAAQ,SAEtBgW,EAAY,CACdC,YAAY,EACZhV,MAAO,CACLgG,OAAQ,CACNpE,KAAM,CAACnC,MAAOd,QACdsW,UAAU,GAEZrU,YAAa,CACXgB,KAAMjD,OACNuW,QAAS,WACP,MAAO,KAGXjQ,UAAW,CACTrD,KAAMuT,OACND,aAAShR,GAEXgB,QAAS,CACPtD,KAAMuT,OACND,aAAShR,GAEXS,aAAc,CACZ/C,KAAMjD,OACNuW,QAAS,WACP,MAAO,KAGX7N,UAAW,CACTzF,KAAMuT,OACND,aAAShR,GAEX+C,6BAA8B,CAC5BrF,KAAMsF,QACNgO,SAAS,IAGbpW,OAAQ,SAAgBE,GACtB,IAAIoW,EAAUxN,UAAU/C,OAAS,QAAsBX,IAAjB0D,UAAU,GAAmBA,UAAU,GAAK,GAC9E5H,EAAQoV,EAAQpV,MACToV,EAAQ9V,KAEnB,OAAOP,EAAYC,EAAegB,KAItCI,EAAOC,QAAU0U,G,kCC/CjB,IAAIzW,EAAW,EAAQ,QACnBgC,EAAchC,EAASgC,YAEvBjC,EAAe,EAAQ,QAE3B+B,EAAOC,QAAU,SAAUE,GAEzB,SAASI,EAAgBX,GACvB,IAAIF,EAAOE,EAAMF,KACbc,EAAcZ,EAAMY,YACpB3B,EAAUe,EAAMf,QAChB4B,EAAWb,EAAMa,SACjBxB,EAAWW,EAAMX,SAEjByB,EAAYhB,EAAKiB,MACjB5B,EAAayB,EAAYI,MAAMF,GACnC,IAAK3B,EACH,MAAM,IAAI8B,MAAM,uBAAyBH,EAAY,yEAGvD,OAAOP,EAAEpB,EAAY,CACnBW,KAAMA,EACNb,QAASA,EACT4B,SAAUA,GACTxB,GAIL,SAAS8B,EAAenB,GACtB,IAAIoB,EAAcpB,EAAMF,KACpBD,EAAOuB,EAAYvB,KACnBR,EAAW+B,EAAY/B,SAEvBgC,EAA0B,kBAATxB,EACjByB,EAAWD,EAAUxB,EAAOA,EAAKkB,MACjC5B,EAAaa,EAAMY,YAAYW,MAAMD,GACzC,OAAKnC,EAOEoB,EAAEpB,EAAYa,EAAMF,KAAMT,IAJ/BmC,QAAQC,KAAK,sBAAwBH,EAAW,yEACzCf,EAAEP,EAAMY,YAAYc,aAAc,KAAMrC,IAOnD,SAASsC,EAAe3B,GACtB,IAAIT,EAAqB,WAAfS,EAAM4B,KAAoB,KAAO,KAC3C,OAAOrB,EAAEhB,EAAK,KAAMS,EAAMX,UAI5B,SAASwC,EAAmB7B,GAC1B,IAAIX,EAAYW,EAAMF,KAAKgC,OAA8B,WAArB9B,EAAMF,KAAKgC,MAE7CvB,EAAEP,EAAMY,YAAYI,MAAMtC,MAAOsB,EAAOA,EAAMX,UAD9CW,EAAMX,SAER,OAAOkB,EAAE,KAAM,KAAMlB,GAIvB,SAAS0C,EAAoB/B,GAC3B,IAAI8B,EAAQ9B,EAAMF,KAAKgC,OAAS,SAEhC,MAAI,OAAOE,KAAKF,GACPvB,EAAEuB,EAAO,KAAM9B,EAAMX,UAGEkB,EAAf,eAAVuB,EAA2B,aAAwC,IAA1B,KAAM9B,EAAMX,UAK9D,SAAS4C,EAAkB1C,EAAKS,GAC9B,OAAOO,EAAEhB,EAAK,KAAMS,EAAMX,UAG5B,SAAS6C,EAAoBlC,GAC3B,OAAOO,EAAE,OAAQ,CACfuB,MAAO,CACLK,eAAgB,cAEjBnC,EAAMX,UAGX,SAAS+C,EAAwBpC,GAC/B,OAAOO,EAAE,MAAO,KAAMP,EAAMX,UAG9B,SAASgD,EAAerC,GACtB,OAAOO,EAAE,IAAK,CACZ8U,MAAO,CACL/S,KAAMtC,EAAMH,KAAKyC,OAElBtC,EAAMX,UAGX,SAASkD,EAAgBvC,GACvB,IAAIyC,EAAMlC,EAAE,MAAO,CACjB8U,MAAO,CACL3S,IAAKpC,EAAYN,MAGrB,OAAOA,EAAMa,SAAW4B,EAAMlC,EAAE,SAAU,KAAMkC,GAIlD,SAAStC,EAAcwC,EAAM/B,EAAagC,EAAO3D,GAC/C,GAAa,OAAT0D,GAAiB/B,EAAYiC,UAC/B,OAAOtC,EAAEK,EAAYiC,UAAW,CAC9BC,IAAK,MAAQF,IAIjB,GAAoB,kBAATD,EACT,OAAO/B,EAAYmC,KAAOxC,EAAEK,EAAYmC,KAAM,CAC5CD,IAAK,QAAUF,GACdD,GAAQA,EAGb,IAAItD,OAAW,EACXsD,EAAKtD,WACPA,EAAW,CACTA,SAAUsD,EAAKtD,SAAS2D,KAAI,SAAUC,EAAOC,GAC3C,OAAOjE,EAAQkE,cAAcF,EAAOC,EAAGP,EAAKtD,UAAU,QAK5D,IAAI+D,EAAiB/E,EAAa,GAAIsE,EAAMtD,GAE5C,OAAOkB,EAAEK,EAAY+B,KAAM,CACzBG,IAAKH,EAAKU,MAAQ,QAAUT,EAC5B9C,KAAMsD,EACNxC,YAAaA,IAIjB,IAAI0C,EAAsB,WACxB,OAAO/C,EAAE,OAEPgD,EAAyB,CAC3BC,OAAQvB,EAAkBwB,KAAK,KAAM,UACrCC,GAAIzB,EAAkBwB,KAAK,KAAM,MACjCE,KAAM1B,EAAkBwB,KAAK,KAAM,QACnCG,UAAW1B,EACX,iBAAkBE,EAClByB,KAAMxB,GAGR,SAASiT,EAAoBtV,GAC3B,IAAIZ,EAAa,KACbmW,EAAiBvV,EAAMqH,UAM3B,OALIkO,IACFnW,EAAa,CACXoW,MAAOD,IAGJhV,EAAE,MAAOnB,EAAYY,EAAMX,UAGpC,IAAIa,EAAqB,CAEvBc,MAAO,CACLtC,MAAOqD,EACP+B,MAAOvB,GAEThB,MAAOgC,EAGPQ,KAAMpC,EACNqC,SAAUnC,EAEVnD,MAAOiC,EACPgC,KAAMxB,EACN0B,UAAWS,EAEXW,UAAWqR,EAGX5T,aAAc,OAGdqB,UAAMmB,EAGNC,MAAO,MAGT,MAAO,CACLjE,mBAAoBA,EACpBC,cAAeA","file":"js/chunk-8937ebc6.2173c8b8.js","sourcesContent":["'use strict';\n\nvar objectAssign = require('object-assign');\n\nvar _require = require('@sanity/block-content-to-hyperscript/internals'),\n    blocksToNodes = _require.blocksToNodes;\n\nvar getSerializers = require('./serializers');\n\nvar isVueComponent = function isVueComponent(block) {\n  return Object.hasOwnProperty.call(block, 'template') || Object.hasOwnProperty.call(block, 'render') && typeof block.render === 'function';\n};\n\nfunction blocksToVue(createElement, options) {\n  var renderNode = function renderNode(serializer, properties, children) {\n    var data = properties || {};\n    if (typeof serializer === 'function') {\n      return serializer(objectAssign({}, data, {\n        children: children\n      }));\n    }\n\n    var tag = serializer;\n    var childNodes = data.children || children;\n    childNodes = Array.isArray(childNodes) ? childNodes : [childNodes];\n    if (isVueComponent(serializer)) {\n      var vueProps = {};\n      var sanityProps = {};\n      if (data.mark) {\n        // If rendering a mark, we just pass the mark properties\n        vueProps = data.mark;\n      } else {\n        // If rendering a node, also pass options and original node\n        vueProps = data.node;\n        sanityProps._sanityProps = {\n          node: data.node,\n          options: data.options\n        };\n      }\n      var props = objectAssign({}, vueProps, sanityProps);\n      data = { props: props };\n    }\n\n    return createElement(tag, data, childNodes);\n  };\n\n  var _getSerializers = getSerializers(renderNode),\n      defaultSerializers = _getSerializers.defaultSerializers,\n      serializeSpan = _getSerializers.serializeSpan;\n\n  return blocksToNodes(renderNode, options, defaultSerializers, serializeSpan);\n}\n\nmodule.exports = blocksToVue;\n//# sourceMappingURL=blocksToVue.js.map","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nvar getImageUrl = require('./getImageUrl');\n\nmodule.exports = function (h, serializerOpts) {\n  var serializeOptions = serializerOpts || {\n    useDashedStyles: false // Low-level block serializer\n\n  };\n\n  function BlockSerializer(props) {\n    var node = props.node,\n        serializers = props.serializers,\n        options = props.options,\n        isInline = props.isInline,\n        children = props.children;\n    var blockType = node._type;\n    var serializer = serializers.types[blockType];\n\n    if (!serializer) {\n      throw new Error(\"Unknown block type \\\"\".concat(blockType, \"\\\", please specify a serializer for it in the `serializers.types` prop\"));\n    }\n\n    return h(serializer, {\n      node: node,\n      options: options,\n      isInline: isInline\n    }, children);\n  } // Low-level span serializer\n\n\n  function SpanSerializer(props) {\n    var _props$node = props.node,\n        mark = _props$node.mark,\n        children = _props$node.children;\n    var isPlain = typeof mark === 'string';\n    var markType = isPlain ? mark : mark._type;\n    var serializer = props.serializers.marks[markType];\n\n    if (!serializer) {\n      // @todo Revert back to throwing errors?\n      // eslint-disable-next-line no-console\n      console.warn(\"Unknown mark type \\\"\".concat(markType, \"\\\", please specify a serializer for it in the `serializers.marks` prop\"));\n      return h(props.serializers.markFallback, null, children);\n    }\n\n    return h(serializer, props.node, children);\n  } // Low-level list serializer\n\n\n  function ListSerializer(props) {\n    var tag = props.type === 'bullet' ? 'ul' : 'ol';\n    return h(tag, null, props.children);\n  } // Low-level list item serializer\n\n\n  function ListItemSerializer(props) {\n    var children = !props.node.style || props.node.style === 'normal' ? // Don't wrap plain text in paragraphs inside of a list item\n    props.children : // But wrap any other style in whatever the block serializer says to use\n    h(props.serializers.types.block, props, props.children);\n    return h('li', null, children);\n  } // Renderer of an actual block of type `block`. Confusing, we know.\n\n\n  function BlockTypeSerializer(props) {\n    var style = props.node.style || 'normal';\n\n    if (/^h\\d/.test(style)) {\n      return h(style, null, props.children);\n    }\n\n    return style === 'blockquote' ? h('blockquote', null, props.children) : h('p', null, props.children);\n  } // Serializers for things that can be directly attributed to a tag without any props\n  // We use partial application to do this, passing the tag name as the first argument\n\n\n  function RawMarkSerializer(tag, props) {\n    return h(tag, null, props.children);\n  }\n\n  function UnderlineSerializer(props) {\n    var style = serializeOptions.useDashedStyles ? {\n      'text-decoration': 'underline'\n    } : {\n      textDecoration: 'underline'\n    };\n    return h('span', {\n      style: style\n    }, props.children);\n  }\n\n  function StrikeThroughSerializer(props) {\n    return h('del', null, props.children);\n  }\n\n  function LinkSerializer(props) {\n    return h('a', {\n      href: props.mark.href\n    }, props.children);\n  }\n\n  function ImageSerializer(props) {\n    if (!props.node.asset) {\n      return null;\n    }\n\n    var img = h('img', {\n      src: getImageUrl(props)\n    });\n    return props.isInline ? img : h('figure', null, img);\n  } // Serializer that recursively calls itself, producing a hyperscript tree of spans\n\n\n  function serializeSpan(span, serializers, index, options) {\n    if (span === '\\n' && serializers.hardBreak) {\n      return h(serializers.hardBreak, {\n        key: \"hb-\".concat(index)\n      });\n    }\n\n    if (typeof span === 'string') {\n      return serializers.text ? h(serializers.text, {\n        key: \"text-\".concat(index)\n      }, span) : span;\n    }\n\n    var children;\n\n    if (span.children) {\n      children = {\n        children: span.children.map(function (child, i) {\n          return options.serializeNode(child, i, span.children, true);\n        })\n      };\n    }\n\n    var serializedNode = objectAssign({}, span, children);\n    return h(serializers.span, {\n      key: span._key || \"span-\".concat(index),\n      node: serializedNode,\n      serializers: serializers\n    });\n  }\n\n  var HardBreakSerializer = function HardBreakSerializer() {\n    return h('br');\n  };\n\n  var defaultMarkSerializers = {\n    strong: RawMarkSerializer.bind(null, 'strong'),\n    em: RawMarkSerializer.bind(null, 'em'),\n    code: RawMarkSerializer.bind(null, 'code'),\n    underline: UnderlineSerializer,\n    'strike-through': StrikeThroughSerializer,\n    link: LinkSerializer\n  };\n  var defaultSerializers = {\n    // Common overrides\n    types: {\n      block: BlockTypeSerializer,\n      image: ImageSerializer\n    },\n    marks: defaultMarkSerializers,\n    // Less common overrides\n    list: ListSerializer,\n    listItem: ListItemSerializer,\n    block: BlockSerializer,\n    span: SpanSerializer,\n    hardBreak: HardBreakSerializer,\n    // Container element\n    container: 'div',\n    // When we can't resolve the mark properly, use this renderer as the container\n    markFallback: 'span',\n    // Allow overriding text renderer, but leave undefined to just use plain strings by default\n    text: undefined,\n    // Empty nodes (React uses null, hyperscript with empty strings)\n    empty: ''\n  };\n  return {\n    defaultSerializers: defaultSerializers,\n    serializeSpan: serializeSpan\n  };\n};\n//# sourceMappingURL=serializers.js.map","module.exports = require('./lib/internals')\n","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar urlBuilder = require('@sanity/image-url');\n\nvar objectAssign = require('object-assign');\n\nvar enc = encodeURIComponent;\nvar materializeError = \"You must either:\\n  - Pass `projectId` and `dataset` to the block renderer\\n  - Materialize images to include the `url` field.\\n\\nFor more information, see \".concat(generateHelpUrl('block-content-image-materializing'));\n\nvar getQueryString = function getQueryString(options) {\n  var query = options.imageOptions;\n  var keys = Object.keys(query);\n\n  if (!keys.length) {\n    return '';\n  }\n\n  var params = keys.map(function (key) {\n    return \"\".concat(enc(key), \"=\").concat(enc(query[key]));\n  });\n  return \"?\".concat(params.join('&'));\n};\n\nvar buildUrl = function buildUrl(props) {\n  var node = props.node,\n      options = props.options;\n  var projectId = options.projectId,\n      dataset = options.dataset;\n  var asset = node.asset;\n\n  if (!asset) {\n    throw new Error('Image does not have required `asset` property');\n  }\n\n  if (asset.url) {\n    return asset.url + getQueryString(options);\n  }\n\n  if (!projectId || !dataset) {\n    throw new Error(materializeError);\n  }\n\n  var ref = asset._ref;\n\n  if (!ref) {\n    throw new Error('Invalid image reference in block, no `_ref` found on `asset`');\n  }\n\n  return urlBuilder(objectAssign({\n    projectId: projectId,\n    dataset: dataset\n  }, options.imageOptions || {})).image(node).toString();\n};\n\nmodule.exports = buildUrl;\n//# sourceMappingURL=getImageUrl.js.map","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nvar buildMarksTree = require('./buildMarksTree');\n\nvar nestLists = require('./nestLists');\n\nvar generateKeys = require('./generateKeys');\n\nvar mergeSerializers = require('./mergeSerializers'); // Properties to extract from props and pass to serializers as options\n\n\nvar optionProps = ['projectId', 'dataset', 'imageOptions'];\n\nvar isDefined = function isDefined(val) {\n  return typeof val !== 'undefined';\n};\n\nvar defaults = {\n  imageOptions: {}\n};\n\nfunction blocksToNodes(h, properties, defaultSerializers, serializeSpan) {\n  var props = objectAssign({}, defaults, properties);\n  var rawBlocks = Array.isArray(props.blocks) ? props.blocks : [props.blocks];\n  var keyedBlocks = generateKeys(rawBlocks);\n  var blocks = nestLists(keyedBlocks, props.listNestMode);\n  var serializers = mergeSerializers(defaultSerializers, props.serializers || {});\n  var options = optionProps.reduce(function (opts, key) {\n    var value = props[key];\n\n    if (isDefined(value)) {\n      opts[key] = value;\n    }\n\n    return opts;\n  }, {});\n\n  function serializeNode(node, index, siblings, isInline) {\n    if (isList(node)) {\n      return serializeList(node);\n    }\n\n    if (isListItem(node)) {\n      return serializeListItem(node, findListItemIndex(node, siblings));\n    }\n\n    if (isSpan(node)) {\n      return serializeSpan(node, serializers, index, {\n        serializeNode: serializeNode\n      });\n    }\n\n    return serializeBlock(node, index, isInline);\n  }\n\n  function findListItemIndex(node, siblings) {\n    var index = 0;\n\n    for (var i = 0; i < siblings.length; i++) {\n      if (siblings[i] === node) {\n        return index;\n      }\n\n      if (!isListItem(siblings[i])) {\n        continue;\n      }\n\n      index++;\n    }\n\n    return index;\n  }\n\n  function serializeBlock(block, index, isInline) {\n    var tree = buildMarksTree(block);\n    var children = tree.map(function (node, i, siblings) {\n      return serializeNode(node, i, siblings, true);\n    });\n    var blockProps = {\n      key: block._key || \"block-\".concat(index),\n      node: block,\n      isInline: isInline,\n      serializers: serializers,\n      options: options\n    };\n    return h(serializers.block, blockProps, children);\n  }\n\n  function serializeListItem(block, index) {\n    var key = block._key;\n    var tree = buildMarksTree(block);\n    var children = tree.map(serializeNode);\n    return h(serializers.listItem, {\n      node: block,\n      serializers: serializers,\n      index: index,\n      key: key,\n      options: options\n    }, children);\n  }\n\n  function serializeList(list) {\n    var type = list.listItem;\n    var level = list.level;\n    var key = list._key;\n    var children = list.children.map(serializeNode);\n    return h(serializers.list, {\n      key: key,\n      level: level,\n      type: type,\n      options: options\n    }, children);\n  } // Default to false, so `undefined` will evaluate to the default here\n\n\n  var renderContainerOnSingleChild = Boolean(props.renderContainerOnSingleChild);\n  var nodes = blocks.map(serializeNode);\n\n  if (renderContainerOnSingleChild || nodes.length > 1) {\n    var containerProps = props.className ? {\n      className: props.className\n    } : {};\n    return h(serializers.container, containerProps, nodes);\n  }\n\n  if (nodes[0]) {\n    return nodes[0];\n  }\n\n  return typeof serializers.empty === 'function' ? h(serializers.empty) : serializers.empty;\n}\n\nfunction isList(block) {\n  return block._type === 'list' && block.listItem;\n}\n\nfunction isListItem(block) {\n  return block._type === 'block' && block.listItem;\n}\n\nfunction isSpan(block) {\n  return typeof block === 'string' || block.marks || block._type === 'span';\n}\n\nmodule.exports = blocksToNodes;\n//# sourceMappingURL=blocksToNodes.js.map","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.SanityImageUrlBuilder = factory());\n}(this, (function () {\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o) {\n    var i = 0;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    i = o[Symbol.iterator]();\n    return i.next.bind(i);\n  }\n\n  var example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg';\n  function parseAssetId(ref) {\n    var _ref$split = ref.split('-'),\n        id = _ref$split[1],\n        dimensionString = _ref$split[2],\n        format = _ref$split[3];\n\n    if (!id || !dimensionString || !format) {\n      throw new Error(\"Malformed asset _ref '\" + ref + \"'. Expected an id like \\\"\" + example + \"\\\".\");\n    }\n\n    var _dimensionString$spli = dimensionString.split('x'),\n        imgWidthStr = _dimensionString$spli[0],\n        imgHeightStr = _dimensionString$spli[1];\n\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n\n    if (!isValidAssetId) {\n      throw new Error(\"Malformed asset _ref '\" + ref + \"'. Expected an id like \\\"\" + example + \"\\\".\");\n    }\n\n    return {\n      id: id,\n      width: width,\n      height: height,\n      format: format\n    };\n  }\n\n  var isRef = function isRef(src) {\n    var source = src;\n    return source ? typeof source._ref === 'string' : false;\n  };\n\n  var isAsset = function isAsset(src) {\n    var source = src;\n    return source ? typeof source._id === 'string' : false;\n  };\n\n  var isAssetStub = function isAssetStub(src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === 'string' : false;\n  };\n\n  function parseSource(source) {\n    if (!source) {\n      return null;\n    }\n\n    var image;\n\n    if (typeof source === 'string' && isUrl(source)) {\n      image = {\n        asset: {\n          _ref: urlToId(source)\n        }\n      };\n    } else if (typeof source === 'string') {\n      image = {\n        asset: {\n          _ref: source\n        }\n      };\n    } else if (isRef(source)) {\n      image = {\n        asset: source\n      };\n    } else if (isAsset(source)) {\n      image = {\n        asset: {\n          _ref: source._id || ''\n        }\n      };\n    } else if (isAssetStub(source)) {\n      image = {\n        asset: {\n          _ref: urlToId(source.asset.url)\n        }\n      };\n    } else if (typeof source.asset === 'object') {\n      image = source;\n    } else {\n      return null;\n    }\n\n    var img = source;\n\n    if (img.crop) {\n      image.crop = img.crop;\n    }\n\n    if (img.hotspot) {\n      image.hotspot = img.hotspot;\n    }\n\n    return applyDefaults(image);\n  }\n\n  function isUrl(url) {\n    return /^https?:\\/\\//.test(\"\" + url);\n  }\n\n  function urlToId(url) {\n    var parts = url.split('/').slice(-1);\n    return (\"image-\" + parts[0]).replace(/\\.([a-z]+)$/, '-$1');\n  }\n\n  function applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n      return image;\n    }\n\n    var result = _extends({}, image);\n\n    if (!result.crop) {\n      result.crop = {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0\n      };\n    }\n\n    if (!result.hotspot) {\n      result.hotspot = {\n        x: 0.5,\n        y: 0.5,\n        height: 1.0,\n        width: 1.0\n      };\n    }\n\n    return result;\n  }\n\n  var SPEC_NAME_TO_URL_NAME_MAPPINGS = [['width', 'w'], ['height', 'h'], ['format', 'fm'], ['download', 'dl'], ['blur', 'blur'], ['sharpen', 'sharp'], ['invert', 'invert'], ['orientation', 'or'], ['minHeight', 'min-h'], ['maxHeight', 'max-h'], ['minWidth', 'min-w'], ['maxWidth', 'max-w'], ['quality', 'q'], ['fit', 'fit'], ['crop', 'crop'], ['saturation', 'sat'], ['auto', 'auto'], ['dpr', 'dpr']];\n  function urlForImage(options) {\n    var spec = _extends({}, options || {});\n\n    var source = spec.source;\n    delete spec.source;\n    var image = parseSource(source);\n\n    if (!image) {\n      return null;\n    }\n\n    var id = image.asset._ref || image.asset._id || '';\n    var asset = parseAssetId(id);\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n      left: cropLeft,\n      top: cropTop,\n      width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n      height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop)\n    };\n    var hotSpotVerticalRadius = image.hotspot.height * asset.height / 2;\n    var hotSpotHorizontalRadius = image.hotspot.width * asset.width / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n      left: hotSpotCenterX - hotSpotHorizontalRadius,\n      top: hotSpotCenterY - hotSpotVerticalRadius,\n      right: hotSpotCenterX + hotSpotHorizontalRadius,\n      bottom: hotSpotCenterY + hotSpotVerticalRadius\n    };\n\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n      spec = _extends(_extends({}, spec), fit({\n        crop: crop,\n        hotspot: hotspot\n      }, spec));\n    }\n\n    return specToImageUrl(_extends(_extends({}, spec), {}, {\n      asset: asset\n    }));\n  }\n\n  function specToImageUrl(spec) {\n    var cdnUrl = spec.baseUrl || 'https://cdn.sanity.io';\n    var filename = spec.asset.id + \"-\" + spec.asset.width + \"x\" + spec.asset.height + \".\" + spec.asset.format;\n    var baseUrl = cdnUrl + \"/images/\" + spec.projectId + \"/\" + spec.dataset + \"/\" + filename;\n    var params = [];\n\n    if (spec.rect) {\n      var _spec$rect = spec.rect,\n          left = _spec$rect.left,\n          top = _spec$rect.top,\n          width = _spec$rect.width,\n          height = _spec$rect.height;\n      var isEffectiveCrop = left !== 0 || top !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n\n      if (isEffectiveCrop) {\n        params.push(\"rect=\" + left + \",\" + top + \",\" + width + \",\" + height);\n      }\n    }\n\n    if (spec.bg) {\n      params.push(\"bg=\" + spec.bg);\n    }\n\n    if (spec.focalPoint) {\n      params.push(\"fp-x=\" + spec.focalPoint.x);\n      params.push(\"fp-y=\" + spec.focalPoint.y);\n    }\n\n    var flip = [spec.flipHorizontal && 'h', spec.flipVertical && 'v'].filter(Boolean).join('');\n\n    if (flip) {\n      params.push(\"flip=\" + flip);\n    }\n\n    SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function (mapping) {\n      var specName = mapping[0],\n          param = mapping[1];\n\n      if (typeof spec[specName] !== 'undefined') {\n        params.push(param + \"=\" + encodeURIComponent(spec[specName]));\n      } else if (typeof spec[param] !== 'undefined') {\n        params.push(param + \"=\" + encodeURIComponent(spec[param]));\n      }\n    });\n\n    if (params.length === 0) {\n      return baseUrl;\n    }\n\n    return baseUrl + \"?\" + params.join('&');\n  }\n\n  function fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height;\n\n    if (!(imgWidth && imgHeight)) {\n      return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: source.crop\n      };\n    }\n\n    var crop = source.crop;\n    var hotspot = source.hotspot;\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n\n    if (cropAspectRatio > desiredAspectRatio) {\n      var height = crop.height;\n      var width = height * desiredAspectRatio;\n      var top = crop.top;\n      var hotspotXCenter = (hotspot.right - hotspot.left) / 2 + hotspot.left;\n      var left = hotspotXCenter - width / 2;\n\n      if (left < crop.left) {\n        left = crop.left;\n      } else if (left + width > crop.left + crop.width) {\n        left = crop.left + crop.width - width;\n      }\n\n      cropRect = {\n        left: Math.round(left),\n        top: Math.round(top),\n        width: Math.round(width),\n        height: Math.round(height)\n      };\n    } else {\n      var _width = crop.width;\n\n      var _height = _width / desiredAspectRatio;\n\n      var _left = crop.left;\n      var hotspotYCenter = (hotspot.bottom - hotspot.top) / 2 + hotspot.top;\n\n      var _top = hotspotYCenter - _height / 2;\n\n      if (_top < crop.top) {\n        _top = crop.top;\n      } else if (_top + _height > crop.top + crop.height) {\n        _top = crop.top + crop.height - _height;\n      }\n\n      cropRect = {\n        left: Math.max(0, Math.floor(_left)),\n        top: Math.max(0, Math.floor(_top)),\n        width: Math.round(_width),\n        height: Math.round(_height)\n      };\n    }\n\n    return {\n      width: imgWidth,\n      height: imgHeight,\n      rect: cropRect\n    };\n  }\n\n  var validFits = ['clip', 'crop', 'fill', 'fillmax', 'max', 'scale', 'min'];\n  var validCrops = ['top', 'bottom', 'left', 'right', 'center', 'focalpoint', 'entropy'];\n  var validAutoModes = ['format'];\n\n  function isSanityClient(client) {\n    return client ? typeof client.clientConfig === 'object' : false;\n  }\n\n  function rewriteSpecName(key) {\n    var specs = SPEC_NAME_TO_URL_NAME_MAPPINGS;\n\n    for (var _iterator = _createForOfIteratorHelperLoose(specs), _step; !(_step = _iterator()).done;) {\n      var entry = _step.value;\n      var specName = entry[0],\n          param = entry[1];\n\n      if (key === specName || key === param) {\n        return specName;\n      }\n    }\n\n    return key;\n  }\n\n  function urlBuilder(options) {\n    var client = options;\n\n    if (isSanityClient(client)) {\n      var _client$clientConfig = client.clientConfig,\n          apiUrl = _client$clientConfig.apiHost,\n          projectId = _client$clientConfig.projectId,\n          dataset = _client$clientConfig.dataset;\n      var apiHost = apiUrl || 'https://api.sanity.io';\n      return new ImageUrlBuilder(null, {\n        baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n        projectId: projectId,\n        dataset: dataset\n      });\n    }\n\n    return new ImageUrlBuilder(null, options);\n  }\n  var ImageUrlBuilder = /*#__PURE__*/function () {\n    function ImageUrlBuilder(parent, options) {\n      this.options = parent ? _extends(_extends({}, parent.options || {}), options || {}) : _extends({}, options || {});\n    }\n\n    var _proto = ImageUrlBuilder.prototype;\n\n    _proto.withOptions = function withOptions(options) {\n      var baseUrl = options.baseUrl || this.options.baseUrl;\n      var newOptions = {\n        baseUrl: baseUrl\n      };\n\n      for (var key in options) {\n        if (options.hasOwnProperty(key)) {\n          var specKey = rewriteSpecName(key);\n          newOptions[specKey] = options[key];\n        }\n      }\n\n      return new ImageUrlBuilder(this, _extends({\n        baseUrl: baseUrl\n      }, newOptions));\n    };\n\n    _proto.image = function image(source) {\n      return this.withOptions({\n        source: source\n      });\n    };\n\n    _proto.dataset = function dataset(_dataset) {\n      return this.withOptions({\n        dataset: _dataset\n      });\n    };\n\n    _proto.projectId = function projectId(_projectId) {\n      return this.withOptions({\n        projectId: _projectId\n      });\n    };\n\n    _proto.bg = function bg(_bg) {\n      return this.withOptions({\n        bg: _bg\n      });\n    };\n\n    _proto.dpr = function dpr(_dpr) {\n      return this.withOptions({\n        dpr: _dpr\n      });\n    };\n\n    _proto.width = function width(_width) {\n      return this.withOptions({\n        width: _width\n      });\n    };\n\n    _proto.height = function height(_height) {\n      return this.withOptions({\n        height: _height\n      });\n    };\n\n    _proto.focalPoint = function focalPoint(x, y) {\n      return this.withOptions({\n        focalPoint: {\n          x: x,\n          y: y\n        }\n      });\n    };\n\n    _proto.maxWidth = function maxWidth(_maxWidth) {\n      return this.withOptions({\n        maxWidth: _maxWidth\n      });\n    };\n\n    _proto.minWidth = function minWidth(_minWidth) {\n      return this.withOptions({\n        minWidth: _minWidth\n      });\n    };\n\n    _proto.maxHeight = function maxHeight(_maxHeight) {\n      return this.withOptions({\n        maxHeight: _maxHeight\n      });\n    };\n\n    _proto.minHeight = function minHeight(_minHeight) {\n      return this.withOptions({\n        minHeight: _minHeight\n      });\n    };\n\n    _proto.size = function size(width, height) {\n      return this.withOptions({\n        width: width,\n        height: height\n      });\n    };\n\n    _proto.blur = function blur(_blur) {\n      return this.withOptions({\n        blur: _blur\n      });\n    };\n\n    _proto.sharpen = function sharpen(_sharpen) {\n      return this.withOptions({\n        sharpen: _sharpen\n      });\n    };\n\n    _proto.rect = function rect(left, top, width, height) {\n      return this.withOptions({\n        rect: {\n          left: left,\n          top: top,\n          width: width,\n          height: height\n        }\n      });\n    };\n\n    _proto.format = function format(_format) {\n      return this.withOptions({\n        format: _format\n      });\n    };\n\n    _proto.invert = function invert(_invert) {\n      return this.withOptions({\n        invert: _invert\n      });\n    };\n\n    _proto.orientation = function orientation(_orientation) {\n      return this.withOptions({\n        orientation: _orientation\n      });\n    };\n\n    _proto.quality = function quality(_quality) {\n      return this.withOptions({\n        quality: _quality\n      });\n    };\n\n    _proto.forceDownload = function forceDownload(download) {\n      return this.withOptions({\n        download: download\n      });\n    };\n\n    _proto.flipHorizontal = function flipHorizontal() {\n      return this.withOptions({\n        flipHorizontal: true\n      });\n    };\n\n    _proto.flipVertical = function flipVertical() {\n      return this.withOptions({\n        flipVertical: true\n      });\n    };\n\n    _proto.ignoreImageParams = function ignoreImageParams() {\n      return this.withOptions({\n        ignoreImageParams: true\n      });\n    };\n\n    _proto.fit = function fit(value) {\n      if (validFits.indexOf(value) === -1) {\n        throw new Error(\"Invalid fit mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        fit: value\n      });\n    };\n\n    _proto.crop = function crop(value) {\n      if (validCrops.indexOf(value) === -1) {\n        throw new Error(\"Invalid crop mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        crop: value\n      });\n    };\n\n    _proto.saturation = function saturation(_saturation) {\n      return this.withOptions({\n        saturation: _saturation\n      });\n    };\n\n    _proto.auto = function auto(value) {\n      if (validAutoModes.indexOf(value) === -1) {\n        throw new Error(\"Invalid auto mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        auto: value\n      });\n    };\n\n    _proto.url = function url() {\n      return urlForImage(this.options);\n    };\n\n    _proto.toString = function toString() {\n      return this.url();\n    };\n\n    return ImageUrlBuilder;\n  }();\n\n  return urlBuilder;\n\n})));\n//# sourceMappingURL=image-url.umd.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar objectAssign = require('object-assign');\n\nvar isDefined = function isDefined(val) {\n  return typeof val !== 'undefined';\n}; // Recursively merge/replace default serializers with user-specified serializers\n\n\nmodule.exports = function mergeSerializers(defaultSerializers, userSerializers) {\n  return Object.keys(defaultSerializers).reduce(function (acc, key) {\n    var type = _typeof(defaultSerializers[key]);\n\n    if (type === 'function') {\n      acc[key] = isDefined(userSerializers[key]) ? userSerializers[key] : defaultSerializers[key];\n    } else if (type === 'object') {\n      acc[key] = objectAssign({}, defaultSerializers[key], userSerializers[key]);\n    } else {\n      acc[key] = typeof userSerializers[key] === 'undefined' ? defaultSerializers[key] : userSerializers[key];\n    }\n\n    return acc;\n  }, {});\n};\n//# sourceMappingURL=mergeSerializers.js.map","\"use strict\";\n\nvar getSerializers = require('./serializers');\n\nvar _blocksToNodes = require('./blocksToNodes');\n\nvar getImageUrl = require('./getImageUrl');\n\nvar mergeSerializers = require('./mergeSerializers');\n\nmodule.exports = {\n  blocksToNodes: function blocksToNodes(renderNode, props, defaultSerializers, serializeSpan) {\n    if (defaultSerializers) {\n      return _blocksToNodes(renderNode, props, defaultSerializers, serializeSpan);\n    } // Backwards-compatibility\n\n\n    var serializers = getSerializers(renderNode);\n    return _blocksToNodes(renderNode, props, serializers.defaultSerializers, serializers.serializeSpan);\n  },\n  getSerializers: getSerializers,\n  getImageUrl: getImageUrl,\n  mergeSerializers: mergeSerializers\n};\n//# sourceMappingURL=internals.js.map","\"use strict\";\n\nvar defaultMarks = ['strong', 'em', 'code', 'underline', 'strike-through'];\n\nvar buildMarksTree = function buildMarksTree(block) {\n  var children = block.children,\n      markDefs = block.markDefs;\n\n  if (!children || !children.length) {\n    return [];\n  }\n\n  var sortedMarks = children.map(sortMarksByOccurences);\n  var rootNode = {\n    _type: 'span',\n    children: []\n  };\n  var nodeStack = [rootNode];\n  children.forEach(function (span, i) {\n    var marksNeeded = sortedMarks[i];\n\n    if (!marksNeeded) {\n      var lastNode = nodeStack[nodeStack.length - 1];\n      lastNode.children.push(span);\n      return;\n    }\n\n    var pos = 1; // Start at position one. Root is always plain and should never be removed. (?)\n\n    if (nodeStack.length > 1) {\n      for (pos; pos < nodeStack.length; pos++) {\n        var mark = nodeStack[pos].markKey;\n        var index = marksNeeded.indexOf(mark); // eslint-disable-next-line max-depth\n\n        if (index === -1) {\n          break;\n        }\n\n        marksNeeded.splice(index, 1);\n      }\n    } // Keep from beginning to first miss\n\n\n    nodeStack = nodeStack.slice(0, pos); // Add needed nodes\n\n    var currentNode = findLastParentNode(nodeStack);\n    marksNeeded.forEach(function (mark) {\n      var node = {\n        _type: 'span',\n        _key: span._key,\n        children: [],\n        mark: markDefs.find(function (def) {\n          return def._key === mark;\n        }) || mark,\n        markKey: mark\n      };\n      currentNode.children.push(node);\n      nodeStack.push(node);\n      currentNode = node;\n    }); // Split at newlines to make individual line chunks, but keep newline\n    // characters as individual elements in the array. We use these characters\n    // in the span serializer to trigger hard-break rendering\n\n    if (isTextSpan(span)) {\n      var lines = span.text.split('\\n');\n\n      for (var line = lines.length; line-- > 1;) {\n        lines.splice(line, 0, '\\n');\n      }\n\n      currentNode.children = currentNode.children.concat(lines);\n    } else {\n      currentNode.children = currentNode.children.concat(span);\n    }\n  });\n  return rootNode.children;\n}; // We want to sort all the marks of all the spans in the following order:\n// 1. Marks that are shared amongst the most adjacent siblings\n// 2. Non-default marks (links, custom metadata)\n// 3. Built-in, plain marks (bold, emphasis, code etc)\n\n\nfunction sortMarksByOccurences(span, i, spans) {\n  if (!span.marks || span.marks.length === 0) {\n    return span.marks || [];\n  }\n\n  var markOccurences = span.marks.reduce(function (occurences, mark) {\n    occurences[mark] = occurences[mark] ? occurences[mark] + 1 : 1;\n\n    for (var siblingIndex = i + 1; siblingIndex < spans.length; siblingIndex++) {\n      var sibling = spans[siblingIndex];\n\n      if (sibling.marks && Array.isArray(sibling.marks) && sibling.marks.indexOf(mark) !== -1) {\n        occurences[mark]++;\n      } else {\n        break;\n      }\n    }\n\n    return occurences;\n  }, {});\n  var sortByOccurence = sortMarks.bind(null, markOccurences); // Slicing because sort() mutates the input\n\n  return span.marks.slice().sort(sortByOccurence);\n}\n\nfunction sortMarks(occurences, markA, markB) {\n  var aOccurences = occurences[markA] || 0;\n  var bOccurences = occurences[markB] || 0;\n\n  if (aOccurences !== bOccurences) {\n    return bOccurences - aOccurences;\n  }\n\n  var aDefaultPos = defaultMarks.indexOf(markA);\n  var bDefaultPos = defaultMarks.indexOf(markB); // Sort default marks last\n\n  if (aDefaultPos !== bDefaultPos) {\n    return aDefaultPos - bDefaultPos;\n  } // Sort other marks simply by key\n\n\n  if (markA < markB) {\n    return -1;\n  } else if (markA > markB) {\n    return 1;\n  }\n\n  return 0;\n}\n\nfunction isTextSpan(node) {\n  return node._type === 'span' && typeof node.text === 'string' && (Array.isArray(node.marks) || typeof node.marks === 'undefined');\n}\n\nfunction findLastParentNode(nodes) {\n  for (var i = nodes.length - 1; i >= 0; i--) {\n    var node = nodes[i];\n\n    if (node._type === 'span' && node.children) {\n      return node;\n    }\n  }\n\n  return undefined;\n}\n\nmodule.exports = buildMarksTree;\n//# sourceMappingURL=buildMarksTree.js.map","var baseUrl = 'https://docs.sanity.io/help/'\n\nmodule.exports = function generateHelpUrl(slug) {\n  return baseUrl + slug\n}\n","\"use strict\";\n\nvar objectAssign = require('object-assign');\n/* eslint-disable max-depth, complexity */\n\n\nfunction nestLists(blocks) {\n  var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'html';\n  var tree = [];\n  var currentList;\n\n  for (var i = 0; i < blocks.length; i++) {\n    var block = blocks[i];\n\n    if (!isListBlock(block)) {\n      tree.push(block);\n      currentList = null;\n      continue;\n    } // Start of a new list?\n\n\n    if (!currentList) {\n      currentList = listFromBlock(block);\n      tree.push(currentList);\n      continue;\n    } // New list item within same list?\n\n\n    if (blockMatchesList(block, currentList)) {\n      currentList.children.push(block);\n      continue;\n    } // Different list props, are we going deeper?\n\n\n    if (block.level > currentList.level) {\n      var newList = listFromBlock(block);\n\n      if (mode === 'html') {\n        // Because HTML is kinda weird, nested lists needs to be nested within list items\n        // So while you would think that we could populate the parent list with a new sub-list,\n        // We actually have to target the last list element (child) of the parent.\n        // However, at this point we need to be very careful - simply pushing to the list of children\n        // will mutate the input, and we don't want to blindly clone the entire tree.\n        // Clone the last child while adding our new list as the last child of it\n        var lastListItem = lastChild(currentList);\n        var newLastChild = objectAssign({}, lastListItem, {\n          children: lastListItem.children.concat(newList)\n        }); // Swap the last child\n\n        currentList.children[currentList.children.length - 1] = newLastChild;\n      } else {\n        currentList.children.push(newList);\n      } // Set the newly created, deeper list as the current\n\n\n      currentList = newList;\n      continue;\n    } // Different list props, are we going back up the tree?\n\n\n    if (block.level < currentList.level) {\n      // Current list has ended, and we need to hook up with a parent of the same level and type\n      var match = findListMatching(tree[tree.length - 1], block);\n\n      if (match) {\n        currentList = match;\n        currentList.children.push(block);\n        continue;\n      } // Similar parent can't be found, assume new list\n\n\n      currentList = listFromBlock(block);\n      tree.push(currentList);\n      continue;\n    } // Different list props, different list style?\n\n\n    if (block.listItem !== currentList.listItem) {\n      var _match = findListMatching(tree[tree.length - 1], {\n        level: block.level\n      });\n\n      if (_match && _match.listItem === block.listItem) {\n        currentList = _match;\n        currentList.children.push(block);\n        continue;\n      } else {\n        currentList = listFromBlock(block);\n        tree.push(currentList);\n        continue;\n      }\n    } // eslint-disable-next-line no-console\n\n\n    console.warn('Unknown state encountered for block', block);\n    tree.push(block);\n  }\n\n  return tree;\n}\n\nfunction isListBlock(block) {\n  return Boolean(block.listItem);\n}\n\nfunction blockMatchesList(block, list) {\n  return block.level === list.level && block.listItem === list.listItem;\n}\n\nfunction listFromBlock(block) {\n  return {\n    _type: 'list',\n    _key: \"\".concat(block._key, \"-parent\"),\n    level: block.level,\n    listItem: block.listItem,\n    children: [block]\n  };\n}\n\nfunction lastChild(block) {\n  return block.children && block.children[block.children.length - 1];\n}\n\nfunction findListMatching(rootNode, matching) {\n  var filterOnType = typeof matching.listItem === 'string';\n\n  if (rootNode._type === 'list' && rootNode.level === matching.level && filterOnType && rootNode.listItem === matching.listItem) {\n    return rootNode;\n  }\n\n  var node = lastChild(rootNode);\n\n  if (!node) {\n    return false;\n  }\n\n  return findListMatching(node, matching);\n}\n\nmodule.exports = nestLists;\n//# sourceMappingURL=nestLists.js.map","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (blocks) {\n  return blocks.map(function (block) {\n    if (block._key) {\n      return block;\n    }\n\n    return objectAssign({\n      _key: getStaticKey(block)\n    }, block);\n  });\n};\n\nfunction getStaticKey(item) {\n  return checksum(JSON.stringify(item)).toString(36).replace(/[^A-Za-z0-9]/g, '');\n}\n/* eslint-disable no-bitwise */\n\n\nfunction checksum(str) {\n  var hash = 0;\n  var strlen = str.length;\n\n  if (strlen === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < strlen; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i);\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}\n/* eslint-enable no-bitwise */\n//# sourceMappingURL=generateKeys.js.map","'use strict';\n\nvar blocksToVue = require('./blocksToVue');\n\nvar component = {\n  functional: true,\n  props: {\n    blocks: {\n      type: [Array, Object],\n      required: true\n    },\n    serializers: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    projectId: {\n      type: String,\n      default: undefined\n    },\n    dataset: {\n      type: String,\n      default: undefined\n    },\n    imageOptions: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    className: {\n      type: String,\n      default: undefined\n    },\n    renderContainerOnSingleChild: {\n      type: Boolean,\n      default: false\n    }\n  },\n  render: function render(createElement) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var props = context.props,\n        data = context.data;\n\n    return blocksToVue(createElement, props);\n  }\n};\n\nmodule.exports = component;\n//# sourceMappingURL=BlockContent.js.map","'use strict';\n\nvar _require = require('@sanity/block-content-to-hyperscript/internals'),\n    getImageUrl = _require.getImageUrl;\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (h) {\n  // Low-level block serializer\n  function BlockSerializer(props) {\n    var node = props.node,\n        serializers = props.serializers,\n        options = props.options,\n        isInline = props.isInline,\n        children = props.children;\n\n    var blockType = node._type;\n    var serializer = serializers.types[blockType];\n    if (!serializer) {\n      throw new Error('Unknown block type \"' + blockType + '\", please specify a serializer for it in the `serializers.types` prop');\n    }\n\n    return h(serializer, {\n      node: node,\n      options: options,\n      isInline: isInline\n    }, children);\n  }\n\n  // Low-level span serializer\n  function SpanSerializer(props) {\n    var _props$node = props.node,\n        mark = _props$node.mark,\n        children = _props$node.children;\n\n    var isPlain = typeof mark === 'string';\n    var markType = isPlain ? mark : mark._type;\n    var serializer = props.serializers.marks[markType];\n    if (!serializer) {\n      // @todo Revert back to throwing errors?\n      // eslint-disable-next-line no-console\n      console.warn('Unknown mark type \"' + markType + '\", please specify a serializer for it in the `serializers.marks` prop');\n      return h(props.serializers.markFallback, null, children);\n    }\n\n    return h(serializer, props.node, children);\n  }\n\n  // Low-level list serializer\n  function ListSerializer(props) {\n    var tag = props.type === 'bullet' ? 'ul' : 'ol';\n    return h(tag, null, props.children);\n  }\n\n  // Low-level list item serializer\n  function ListItemSerializer(props) {\n    var children = !props.node.style || props.node.style === 'normal' // Don't wrap plain text in paragraphs inside of a list item\n    ? props.children // But wrap any other style in whatever the block serializer says to use\n    : h(props.serializers.types.block, props, props.children);\n    return h('li', null, children);\n  }\n\n  // Renderer of an actual block of type `block`. Confusing, we know.\n  function BlockTypeSerializer(props) {\n    var style = props.node.style || 'normal';\n\n    if (/^h\\d/.test(style)) {\n      return h(style, null, props.children);\n    }\n\n    return style === 'blockquote' ? h('blockquote', null, props.children) : h('p', null, props.children);\n  }\n\n  // Serializers for things that can be directly attributed to a tag without any props\n  // We use partial application to do this, passing the tag name as the first argument\n  function RawMarkSerializer(tag, props) {\n    return h(tag, null, props.children);\n  }\n\n  function UnderlineSerializer(props) {\n    return h('span', {\n      style: {\n        textDecoration: 'underline'\n      }\n    }, props.children);\n  }\n\n  function StrikeThroughSerializer(props) {\n    return h('del', null, props.children);\n  }\n\n  function LinkSerializer(props) {\n    return h('a', {\n      attrs: {\n        href: props.mark.href\n      }\n    }, props.children);\n  }\n\n  function ImageSerializer(props) {\n    var img = h('img', {\n      attrs: {\n        src: getImageUrl(props)\n      }\n    });\n    return props.isInline ? img : h('figure', null, img);\n  }\n\n  // Serializer that recursively calls itself, producing a hyperscript tree of spans\n  function serializeSpan(span, serializers, index, options) {\n    if (span === '\\n' && serializers.hardBreak) {\n      return h(serializers.hardBreak, {\n        key: 'hb-' + index\n      });\n    }\n\n    if (typeof span === 'string') {\n      return serializers.text ? h(serializers.text, {\n        key: 'text-' + index\n      }, span) : span;\n    }\n\n    var children = void 0;\n    if (span.children) {\n      children = {\n        children: span.children.map(function (child, i) {\n          return options.serializeNode(child, i, span.children, true);\n        })\n      };\n    }\n\n    var serializedNode = objectAssign({}, span, children);\n\n    return h(serializers.span, {\n      key: span._key || 'span-' + index,\n      node: serializedNode,\n      serializers: serializers\n    });\n  }\n\n  var HardBreakSerializer = function HardBreakSerializer() {\n    return h('br');\n  };\n  var defaultMarkSerializers = {\n    strong: RawMarkSerializer.bind(null, 'strong'),\n    em: RawMarkSerializer.bind(null, 'em'),\n    code: RawMarkSerializer.bind(null, 'code'),\n    underline: UnderlineSerializer,\n    'strike-through': StrikeThroughSerializer,\n    link: LinkSerializer\n  };\n\n  function ContainerSerializer(props) {\n    var properties = null;\n    var containerClass = props.className;\n    if (containerClass) {\n      properties = {\n        class: containerClass\n      };\n    }\n    return h('div', properties, props.children);\n  }\n\n  var defaultSerializers = {\n    // Common overrides\n    types: {\n      block: BlockTypeSerializer,\n      image: ImageSerializer\n    },\n    marks: defaultMarkSerializers,\n\n    // Less common overrides\n    list: ListSerializer,\n    listItem: ListItemSerializer,\n\n    block: BlockSerializer,\n    span: SpanSerializer,\n    hardBreak: HardBreakSerializer,\n\n    container: ContainerSerializer,\n\n    // When we can't resolve the mark properly, use this renderer as the container\n    markFallback: 'span',\n\n    // Allow overriding text renderer, but leave undefined to just use plain strings by default\n    text: undefined,\n\n    // Empty nodes (React uses null, hyperscript with empty strings)\n    empty: null\n  };\n\n  return {\n    defaultSerializers: defaultSerializers,\n    serializeSpan: serializeSpan\n  };\n};\n//# sourceMappingURL=serializers.js.map"],"sourceRoot":""}